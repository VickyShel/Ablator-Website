(self.webpackChunkDashboard_vivi=self.webpackChunkDashboard_vivi||[]).push([[537],{2901:function(kn,ht){!function(B){"use strict";var k=function(e,t){for(var r in e)e.hasOwnProperty(r)&&t(r,e[r])},pe=function(e){var t={};return k(e,function(r){!function(e,t,r){"function"!=typeof r?Object.defineProperty(e,t,Object.assign({},r)):e[t]=r}(t,r,e[r])}),t},X=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===r)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},ar=["svg","path"],Ze=function(e){return ar.includes(e)},ae=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(r=t,t=null);var n=Ze(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t&&(Ze(e)?X(n,"class",t):n.className=t),k(r,function(o,a){X(n,o,a)}),n},Le=function(e){return function(t,r){typeof r<"u"&&e.children[r]?e.insertBefore(t,e.children[r]):e.appendChild(t)}},ve=function(e,t){return function(r,n){return typeof n<"u"?t.splice(n,0,r):t.push(r),r}},Ye=function(e,t){return function(r){return t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r}},Me=typeof window<"u"&&typeof window.document<"u",Je=function(){return Me},$n="children"in(Je()?ae("svg"):{})?function(i){return i.children.length}:function(i){return i.childNodes.length},sr=function(e,t,r,n){var o=r[0]||e.left,a=r[1]||e.top,s=o+e.width,u=a+e.height*(n[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:a,right:s,bottom:u}};return t.filter(function(c){return!c.isRectIgnored()}).map(function(c){return c.rect}).forEach(function(c){ur(l.inner,Object.assign({},c.inner)),ur(l.outer,Object.assign({},c.outer))}),lr(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,lr(l.outer),l},ur=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},lr=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},he=function(e){return"number"==typeof e},Zn=function(e){return e<.5?2*e*e:(4-2*e)*e-1},cr={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,r=void 0===t?.5:t,n=e.damping,o=void 0===n?.75:n,a=e.mass,s=void 0===a?10:a,u=null,l=null,c=0,f=!1,I=pe({interpolate:function(v,_){if(!f){if(!he(u)||!he(l))return f=!0,void(c=0);(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<n&&Math.abs(r)<n})(l+=c+=-(l-u)*r/s,u,c*=o)||_?(c=0,f=!0,I.onupdate(l=u),I.oncomplete(l)):I.onupdate(l)}},target:{set:function(v){if(he(v)&&!he(l)&&(l=v),null===u&&(u=v,l=v),l===(u=v)||typeof u>"u")return f=!0,c=0,I.onupdate(l),void I.oncomplete(l);f=!1},get:function(){return u}},resting:{get:function(){return f}},onupdate:function(v){},oncomplete:function(v){}});return I},tween:function(){var l,c,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,r=void 0===t?500:t,n=e.easing,o=void 0===n?Zn:n,a=e.delay,s=void 0===a?0:a,u=null,f=!0,d=!1,E=null,T=pe({interpolate:function(_,S){f||null===E||(null===u&&(u=_),!(_-u<s)&&((l=_-u-s)>=r||S?(l=1,T.onupdate((c=d?0:1)*E),T.oncomplete(c*E),f=!0):(c=l/r,T.onupdate((l>=0?o(d?1-c:c):0)*E))))},target:{get:function(){return d?0:E},set:function(_){if(null===E)return E=_,T.onupdate(_),void T.oncomplete(_);_<E?(E=1,d=!0):(d=!1,E=_),f=!1,u=null}},resting:{get:function(){return f}},onupdate:function(_){},oncomplete:function(_){}});return T}},yt=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach(function(o){e.forEach(function(a){var s=a,u=function(){return r[a]},l=function(f){return r[a]=f};"object"==typeof a&&(s=a.key,u=a.getter||u,l=a.setter||l),(!o[s]||n)&&(o[s]={get:u,set:l})})})},ee=function(e){return null!=e},ai={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},ui=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var r in t)if(t[r]!==e[r])return!0;return!1},li=function(e,t){var r=t.opacity,n=t.perspective,o=t.translateX,a=t.translateY,s=t.scaleX,u=t.scaleY,l=t.rotateX,c=t.rotateY,f=t.rotateZ,d=t.originX,E=t.originY,I=t.width,T=t.height,v="",_="";(ee(d)||ee(E))&&(_+="transform-origin: "+(d||0)+"px "+(E||0)+"px;"),ee(n)&&(v+="perspective("+n+"px) "),(ee(o)||ee(a))&&(v+="translate3d("+(o||0)+"px, "+(a||0)+"px, 0) "),(ee(s)||ee(u))&&(v+="scale3d("+(ee(s)?s:1)+", "+(ee(u)?u:1)+", 1) "),ee(f)&&(v+="rotateZ("+f+"rad) "),ee(l)&&(v+="rotateX("+l+"rad) "),ee(c)&&(v+="rotateY("+c+"rad) "),v.length&&(_+="transform:"+v+";"),ee(r)&&(_+="opacity:"+r+";",0===r&&(_+="visibility:hidden;"),r<1&&(_+="pointer-events:none;")),ee(T)&&(_+="height:"+T+"px;"),ee(I)&&(_+="width:"+I+"px;");var S=e.elementCurrentStyle||"";(_.length!==S.length||_!==S)&&(e.style.cssText=_,e.elementCurrentStyle=_)},ci={styles:function(e){var t=e.mixinConfig,r=e.viewProps,n=e.viewInternalAPI,o=e.viewExternalAPI,a=e.view,s=Object.assign({},r),u={};yt(t,[n,o],r);var f=function(){return a.rect?sr(a.rect,a.childViews,[r.translateX||0,r.translateY||0],[r.scaleX||0,r.scaleY||0]):null};return n.rect={get:f},o.rect={get:f},t.forEach(function(d){r[d]=typeof s[d]>"u"?ai[d]:s[d]}),{write:function(){if(ui(u,r))return li(a.element,r),Object.assign(u,Object.assign({},r)),!0},destroy:function(){}}},listeners:function(e){var o=e.viewExternalAPI,s=e.view,u=[],l=function(e){return function(t,r){e.addEventListener(t,r)}}(s.element),c=function(e){return function(t,r){e.removeEventListener(t,r)}}(s.element);return o.on=function(f,d){u.push({type:f,fn:d}),l(f,d)},o.off=function(f,d){u.splice(u.findIndex(function(E){return E.type===f&&E.fn===d}),1),c(f,d)},{write:function(){return!0},destroy:function(){u.forEach(function(d){c(d.type,d.fn)})}}},animations:function(e){var t=e.mixinConfig,r=e.viewProps,n=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},r),s=[];return k(t,function(u,l){var c=function(e,t,r){var n=e[t]&&"object"==typeof e[t][r]?e[t][r]:e[t]||e,o="string"==typeof n?n:n.type,a="object"==typeof n?Object.assign({},n):{};return cr[o]?cr[o](a):null}(l);c&&(c.onupdate=function(d){r[u]=d},c.target=a[u],yt([{key:u,setter:function(E){c.target!==E&&(c.target=E)},getter:function(){return r[u]}}],[n,o],r,!0),s.push(c))}),{write:function(l){var c=document.hidden,f=!0;return s.forEach(function(d){d.resting||(f=!1),d.interpolate(l,c)}),f},destroy:function(){}}},apis:function(e){yt(e.mixinConfig,e.viewExternalAPI,e.viewProps)}},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,r=void 0===t?"div":t,n=e.name,o=void 0===n?null:n,a=e.attributes,s=void 0===a?{}:a,u=e.read,l=void 0===u?function(){}:u,c=e.write,f=void 0===c?function(){}:c,d=e.create,E=void 0===d?function(){}:d,I=e.destroy,T=void 0===I?function(){}:I,v=e.filterFrameActionsForChild,_=void 0===v?function(O,D){return D}:v,S=e.didCreateView,P=void 0===S?function(){}:S,h=e.didWriteView,F=void 0===h?function(){}:h,R=e.ignoreRect,H=void 0!==R&&R,z=e.ignoreRectUpdate,y=void 0!==z&&z,A=e.mixins,w=void 0===A?[]:A;return function(O){var x,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=ae(r,"filepond--"+o,s),W=window.getComputedStyle(L,null),Y=fr(),M=null,m=!1,p=[],b=[],C={},G={},V=[f],U=[l],q=[T],xe=function(){return L},Ke=function(){return p.concat()},Hn=function(){return M||(M=sr(Y,p,[0,0],[1,1]))},zn={element:{get:xe},style:{get:function(){return W}},childViews:{get:Ke}},Wn=Object.assign({},zn,{rect:{get:Hn},ref:{get:function(){return C}},is:function(x){return o===x},appendChild:Le(L),createChildView:(x=O,function(me,Ie){return me(x,Ie)}),linkView:function(x){return p.push(x),x},unlinkView:function(x){p.splice(p.indexOf(x),1)},appendChildView:ve(0,p),removeChildView:Ye(L,p),registerWriter:function(x){return V.push(x)},registerReader:function(x){return U.push(x)},registerDestroyer:function(x){return q.push(x)},invalidateLayout:function(){return L.layoutCalculated=!1},dispatch:O.dispatch,query:O.query}),jn={element:{get:xe},childViews:{get:Ke},rect:{get:Hn},resting:{get:function(){return m}},isRectIgnored:function(){return H},_read:function(){M=null,p.forEach(function(Ie){return Ie._read()}),!(y&&Y.width&&Y.height)&&fr(Y,L,W);var me={root:_e,props:D,rect:Y};U.forEach(function(Ie){return Ie(me)})},_write:function(x,me,Ie){var qe=0===me.length;return V.forEach(function(ie){!1===ie({props:D,root:_e,actions:me,timestamp:x,shouldOptimize:Ie})&&(qe=!1)}),b.forEach(function(ie){!1===ie.write(x)&&(qe=!1)}),p.filter(function(ie){return!!ie.element.parentNode}).forEach(function(ie){ie._write(x,_(ie,me),Ie)||(qe=!1)}),p.forEach(function(ie,Ae){ie.element.parentNode||(_e.appendChild(ie.element,Ae),ie._read(),ie._write(x,_(ie,me),Ie),qe=!1)}),m=qe,F({props:D,root:_e,actions:me,timestamp:x}),qe},_destroy:function(){b.forEach(function(x){return x.destroy()}),q.forEach(function(x){x({root:_e,props:D})}),p.forEach(function(x){return x._destroy()})}},gu=Object.assign({},zn,{rect:{get:function(){return Y}}});Object.keys(w).sort(function(j,x){return"styles"===j?1:"styles"===x?-1:0}).forEach(function(j){var x=ci[j]({mixinConfig:w[j],viewProps:D,viewState:G,viewInternalAPI:Wn,viewExternalAPI:jn,view:pe(gu)});x&&b.push(x)});var _e=pe(Wn);E({root:_e,props:D});var mu=$n(L);return p.forEach(function(j,x){_e.appendChild(j.element,mu+x)}),P(_e),pe(jn)}},te=function(e,t){return function(r){var n=r.root,o=r.props,a=r.actions,s=void 0===a?[]:a,u=r.timestamp,l=r.shouldOptimize;s.filter(function(c){return e[c.type]}).forEach(function(c){return e[c.type]({root:n,props:o,action:c.data,timestamp:u,shouldOptimize:l})}),t&&t({root:n,props:o,actions:s,timestamp:u,shouldOptimize:l})}},dr=function(e,t){return t.parentNode.insertBefore(e,t)},pr=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},et=function(e){return Array.isArray(e)},Ee=function(e){return null==e},di=function(e){return e.trim()},tt=function(e){return""+e},vr=function(e){return"boolean"==typeof e},Er=function(e){return vr(e)?e:"true"===e},re=function(e){return"string"==typeof e},gr=function(e){return he(e)?e:re(e)?tt(e).replace(/[a-z]+/gi,""):0},rt=function(e){return parseInt(gr(e),10)},mr=function(e){return parseFloat(gr(e))},Ce=function(e){return he(e)&&isFinite(e)&&Math.floor(e)===e},Ir=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Ce(e))return e;var r=tt(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),rt(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),rt(r)*t):rt(r)},Re=function(e){return"function"==typeof e},Tr={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},gi=function(e,t,r,n,o){if(null===t)return null;if("function"==typeof t)return t;var a={url:"GET"===r||"PATCH"===r?"?"+e+"=":"",method:r,headers:o,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(re(t))return a.url=t,a;if(Object.assign(a,t),re(a.headers)){var s=a.headers.split(/:(.+)/);a.headers={header:s[0],value:s[1]}}return a.withCredentials=Er(a.withCredentials),a},J=function(e){return"object"==typeof e&&null!==e},St=function(e){return et(e)?"array":function(e){return null===e}(e)?"null":Ce(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function(e){return J(e)&&re(e.url)&&J(e.process)&&J(e.revert)&&J(e.restore)&&J(e.fetch)}(e)?"api":typeof e},hi={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Ee(e)?[]:et(e)?e:tt(e).split(t).map(di).filter(function(r){return r.length})},boolean:Er,int:function(e){return"bytes"===St(e)?Ir(e):rt(e)},number:mr,float:mr,bytes:Ir,string:function(e){return Re(e)?e:tt(e)},function:function(e){return function(e){for(var t=self,r=e.split("."),n=null;n=r.shift();)if(!(t=t[n]))return null;return t}(e)},serverapi:function(e){return function(e){var t={};return t.url=re(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},k(Tr,function(r){t[r]=gi(r,e[r],Tr[r],t.timeout,t.headers)}),t.process=e.process||re(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t}(e)},object:function(e){try{return JSON.parse(function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')}(e))}catch{return null}}},_r=function(e,t,r){if(e===t)return e;var n=St(e);if(n!==r){var o=function(e,t){return hi[t](e)}(e,r);if(n=St(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+r+'"';e=o}return e},yi=function(e){var t={};return k(e,function(r){var n=e[r];t[r]=function(e,t){var r=e;return{enumerable:!0,get:function(){return r},set:function(o){r=_r(o,e,t)}}}(n[0],n[1])}),pe(t)},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map(function(r){return r.toLowerCase()}).join(t)},bi=function(e){return function(t,r,n){var o={};return k(e,function(a){var s=nt(a,"_").toUpperCase();o["SET_"+s]=function(u){try{n.options[a]=u.value}catch{}t("DID_SET_"+s,{value:n.options[a]})}}),o}},Pi=function(e){return function(t){var r={};return k(e,function(n){r["GET_"+nt(n,"_").toUpperCase()]=function(o){return t.options[n]}}),r}},se_API=1,se_DROP=2,se_BROWSE=3,se_PASTE=4,se_NONE=5,Dt=function(){return Math.random().toString(36).substring(2,11)};function hr(i){this.wrapped=i}function He(i){var e,t;function n(a,s){try{var u=i[a](s),l=u.value,c=l instanceof hr;Promise.resolve(c?l.wrapped:l).then(function(f){c?n("next",f):o(u.done?"return":"normal",f)},function(f){n("throw",f)})}catch(f){o("throw",f)}}function o(a,s){switch(a){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?n(e.key,e.arg):t=null}this._invoke=function r(a,s){return new Promise(function(u,l){var c={key:a,arg:s,resolve:u,reject:l,next:null};t?t=t.next=c:(e=t=c,n(a,s))})},"function"!=typeof i.return&&(this.return=void 0)}function Ci(i,e){if(null==i)return{};var r,n,t=function Mi(i,e){if(null==i)return{};var n,o,t={},r=Object.keys(i);for(o=0;o<r.length;o++)!(e.indexOf(n=r[o])>=0)&&(t[n]=i[n]);return t}(i,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)!(e.indexOf(r=o[n])>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function st(i){return function Bi(i){if(Array.isArray(i)){for(var e=0,t=new Array(i.length);e<i.length;e++)t[e]=i[e];return t}}(i)||function br(i){if(Symbol.iterator in Object(i)||"[object Arguments]"===Object.prototype.toString.call(i))return Array.from(i)}(i)||function xi(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(He.prototype[Symbol.asyncIterator]=function(){return this}),He.prototype.next=function(i){return this._invoke("next",i)},He.prototype.throw=function(i){return this._invoke("throw",i)},He.prototype.return=function(i){return this._invoke("return",i)};var e,t,Nt=function(e,t){return e.splice(t,1)},ut=function(){var e=[],t=function(o,a){Nt(e,e.findIndex(function(s){return s.event===o&&(s.cb===a||!a)}))},r=function(o,a,s){e.filter(function(u){return u.event===o}).map(function(u){return u.cb}).forEach(function(u){return function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)}(function(){return u.apply(void 0,st(a))},s)})};return{fireSync:function(o){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];r(o,s,!0)},fire:function(o){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];r(o,s,!1)},on:function(o,a){e.push({event:o,cb:a})},onOnce:function(o,a){e.push({event:o,cb:function(){t(o,a),a.apply(void 0,arguments)}})},off:t}},Cr=function(e,t,r){Object.getOwnPropertyNames(e).filter(function(n){return!r.includes(n)}).forEach(function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})},ki=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ne=function(e){var t={};return Cr(e,t,ki),t},N={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Z={INPUT:1,LIMBO:2,LOCAL:3},Nr=function(e){return/[^0-9]+/.exec(e)},Fr=function(){return Nr(1.1.toLocaleString())[0]},g={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Ft=[],ce=function(e,t,r){return new Promise(function(n,o){var a=Ft.filter(function(u){return u.key===e}).map(function(u){return u.cb});if(0!==a.length){var s=a.shift();a.reduce(function(u,l){return u.then(function(c){return l(c,r)})},s(t,r)).then(function(u){return n(u)}).catch(function(u){return o(u)})}else n(t)})},Oe=function(e,t,r){return Ft.filter(function(n){return n.key===e}).map(function(n){return n.cb(t,r)})},Qi=function(e,t){return Ft.push({key:e,cb:t})},lt=function(){return Object.assign({},Ne)},Ne={id:[null,g.STRING],name:["filepond",g.STRING],disabled:[!1,g.BOOLEAN],className:[null,g.STRING],required:[!1,g.BOOLEAN],captureMethod:[null,g.STRING],allowSyncAcceptAttribute:[!0,g.BOOLEAN],allowDrop:[!0,g.BOOLEAN],allowBrowse:[!0,g.BOOLEAN],allowPaste:[!0,g.BOOLEAN],allowMultiple:[!1,g.BOOLEAN],allowReplace:[!0,g.BOOLEAN],allowRevert:[!0,g.BOOLEAN],allowRemove:[!0,g.BOOLEAN],allowProcess:[!0,g.BOOLEAN],allowReorder:[!1,g.BOOLEAN],allowDirectoriesOnly:[!1,g.BOOLEAN],storeAsFile:[!1,g.BOOLEAN],forceRevert:[!1,g.BOOLEAN],maxFiles:[null,g.INT],checkValidity:[!1,g.BOOLEAN],itemInsertLocationFreedom:[!0,g.BOOLEAN],itemInsertLocation:["before",g.STRING],itemInsertInterval:[75,g.INT],dropOnPage:[!1,g.BOOLEAN],dropOnElement:[!0,g.BOOLEAN],dropValidation:[!1,g.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],g.ARRAY],instantUpload:[!0,g.BOOLEAN],maxParallelUploads:[2,g.INT],allowMinimumUploadDuration:[!0,g.BOOLEAN],chunkUploads:[!1,g.BOOLEAN],chunkForce:[!1,g.BOOLEAN],chunkSize:[5e6,g.INT],chunkRetryDelays:[[500,1e3,3e3],g.ARRAY],server:[null,g.SERVER_API],fileSizeBase:[1e3,g.INT],labelFileSizeBytes:["bytes",g.STRING],labelFileSizeKilobytes:["KB",g.STRING],labelFileSizeMegabytes:["MB",g.STRING],labelFileSizeGigabytes:["GB",g.STRING],labelDecimalSeparator:[Fr(),g.STRING],labelThousandsSeparator:[(e=Fr(),t=1e3.toLocaleString(),t!==1e3.toString()?Nr(t)[0]:"."===e?",":"."),g.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',g.STRING],labelInvalidField:["Field contains invalid files",g.STRING],labelFileWaitingForSize:["Waiting for size",g.STRING],labelFileSizeNotAvailable:["Size not available",g.STRING],labelFileCountSingular:["file in list",g.STRING],labelFileCountPlural:["files in list",g.STRING],labelFileLoading:["Loading",g.STRING],labelFileAdded:["Added",g.STRING],labelFileLoadError:["Error during load",g.STRING],labelFileRemoved:["Removed",g.STRING],labelFileRemoveError:["Error during remove",g.STRING],labelFileProcessing:["Uploading",g.STRING],labelFileProcessingComplete:["Upload complete",g.STRING],labelFileProcessingAborted:["Upload cancelled",g.STRING],labelFileProcessingError:["Error during upload",g.STRING],labelFileProcessingRevertError:["Error during revert",g.STRING],labelTapToCancel:["tap to cancel",g.STRING],labelTapToRetry:["tap to retry",g.STRING],labelTapToUndo:["tap to undo",g.STRING],labelButtonRemoveItem:["Remove",g.STRING],labelButtonAbortItemLoad:["Abort",g.STRING],labelButtonRetryItemLoad:["Retry",g.STRING],labelButtonAbortItemProcessing:["Cancel",g.STRING],labelButtonUndoItemProcessing:["Undo",g.STRING],labelButtonRetryItemProcessing:["Retry",g.STRING],labelButtonProcessItem:["Upload",g.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',g.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',g.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',g.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',g.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',g.STRING],oninit:[null,g.FUNCTION],onwarning:[null,g.FUNCTION],onerror:[null,g.FUNCTION],onactivatefile:[null,g.FUNCTION],oninitfile:[null,g.FUNCTION],onaddfilestart:[null,g.FUNCTION],onaddfileprogress:[null,g.FUNCTION],onaddfile:[null,g.FUNCTION],onprocessfilestart:[null,g.FUNCTION],onprocessfileprogress:[null,g.FUNCTION],onprocessfileabort:[null,g.FUNCTION],onprocessfilerevert:[null,g.FUNCTION],onprocessfile:[null,g.FUNCTION],onprocessfiles:[null,g.FUNCTION],onremovefile:[null,g.FUNCTION],onpreparefile:[null,g.FUNCTION],onupdatefiles:[null,g.FUNCTION],onreorderfiles:[null,g.FUNCTION],beforeDropFile:[null,g.FUNCTION],beforeAddFile:[null,g.FUNCTION],beforeRemoveFile:[null,g.FUNCTION],beforePrepareFile:[null,g.FUNCTION],stylePanelLayout:[null,g.STRING],stylePanelAspectRatio:[null,g.STRING],styleItemPanelAspectRatio:[null,g.STRING],styleButtonRemoveItemPosition:["left",g.STRING],styleButtonProcessItemPosition:["right",g.STRING],styleLoadIndicatorPosition:["right",g.STRING],styleProgressIndicatorPosition:["right",g.STRING],styleButtonRemoveItemAlign:[!1,g.BOOLEAN],files:[[],g.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],g.ARRAY]},ye=function(e,t){return Ee(t)?e[0]||null:Ce(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find(function(r){return r.id===t})||null)},Gr=function(e){if(Ee(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},fe=function(e){return e.filter(function(t){return!t.archived})},Fe={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ct=null,eo=[N.LOAD_ERROR,N.PROCESSING_ERROR,N.PROCESSING_REVERT_ERROR],to=[N.LOADING,N.PROCESSING,N.PROCESSING_QUEUED,N.INIT],ro=[N.PROCESSING_COMPLETE],no=function(e){return eo.includes(e.status)},io=function(e){return to.includes(e.status)},oo=function(e){return ro.includes(e.status)},Br=function(e){return J(e.options.server)&&(J(e.options.server.process)||Re(e.options.server.process))},ao=function(e){return{GET_STATUS:function(){var r=fe(e.items),o=Fe.ERROR,a=Fe.BUSY,s=Fe.IDLE,u=Fe.READY;return 0===r.length?Fe.EMPTY:r.some(no)?o:r.some(io)?a:r.some(oo)?u:s},GET_ITEM:function(r){return ye(e.items,r)},GET_ACTIVE_ITEM:function(r){return ye(fe(e.items),r)},GET_ACTIVE_ITEMS:function(){return fe(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(r){var n=ye(e.items,r);return n?n.filename:null},GET_ITEM_SIZE:function(r){var n=ye(e.items,r);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter(function(r){return/^style/.test(r)}).map(function(r){return{name:r,value:e.options[r]}})},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Gr(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(r){return fe(e.items).filter(function(n){return n.status===r})},GET_TOTAL_ITEMS:function(){return fe(e.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return e.options.storeAsFile&&function(){if(null===ct)try{var e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));var t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,ct=1===t.files.length}catch{ct=!1}return ct}()&&!Br(e)},IS_ASYNC:function(){return Br(e)},GET_FILE_SIZE_LABELS:function(r){return{labelBytes:r("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:r("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:r("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:r("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},Ur=function(e,t,r){return Math.max(Math.min(r,e),t)},Gt=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},je=function(e){return e.split("/").pop().split("?").shift()},ft=function(e){return e.split(".").pop()},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+ke(e.getMonth()+1,"00")+"-"+ke(e.getDate(),"00")+"_"+ke(e.getHours(),"00")+"-"+ke(e.getMinutes(),"00")+"-"+ke(e.getSeconds(),"00")},Ge=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.slice(0,e.size,"string"==typeof r?r:e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),re(t)||(t=Vr()),t&&null===n&&ft(t)?o.name=t:(n=n||function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""}(o.type),o.name=t+(n?"."+n:"")),o},xr=function(e,t){var r=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(r){var n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},qr=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},go=function(e){var t=qr(e),r=function(e){return atob(function(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(e);return function(e,t){for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return xr(r,t)}(r,t)},Io=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map(function(r){return r.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(r){return r.length});return t.length?decodeURI(t[t.length-1]):null},To=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},_o=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Bt=function(e){var t={source:null,name:null,size:null},r=e.split("\n"),n=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var l=u.value,c=Io(l);if(c)t.name=c;else{var f=To(l);if(f)t.size=f;else{var d=_o(l);d&&(t.source=d)}}}}catch(E){o=!0,a=E}finally{try{!n&&null!=s.return&&s.return()}finally{if(o)throw a}}return t},ho=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},a=function(l){e?(t.timestamp=Date.now(),t.request=e(l,function(c){t.duration=Date.now()-t.timestamp,t.complete=!0,c instanceof Blob&&(c=Ge(c,c.name||je(l))),s.fire("load",c instanceof Blob?c:c?c.body:null)},function(c){s.fire("error","string"==typeof c?{type:"error",code:0,body:c}:c)},function(c,f,d){d&&(t.size=d),t.duration=Date.now()-t.timestamp,c?(t.progress=f/d,s.fire("progress",t.progress)):t.progress=null},function(){s.fire("abort")},function(c){var f=Bt("string"==typeof c?c:c.headers);s.fire("meta",{size:t.size||f.size,filename:f.name,source:f.source})})):s.fire("error",{type:"error",body:"Can't load URL",code:400})},s=Object.assign({},ut(),{setSource:function(l){return t.source=l},getProgress:function(){return t.progress},abort:function(){t.request&&t.request.abort&&t.request.abort()},load:function(){var l=t.source;s.fire("init",l),l instanceof File?s.fire("load",l):l instanceof Blob?s.fire("load",Ge(l,l.name)):Gt(l)?s.fire("load",function(e,t,r){return Ge(go(e),t,null,r)}(l)):a(l)}});return s},Yr=function(e){return/GET|HEAD/.test(e)},Se=function(e,t,r){var n={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){o=!0,s.abort()}},o=!1,a=!1;r=Object.assign({method:"POST",headers:{},withCredentials:!1},r),t=encodeURI(t),Yr(r.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var s=new XMLHttpRequest;return(Yr(r.method)?s:s.upload).onprogress=function(l){o||n.onprogress(l.lengthComputable,l.loaded,l.total)},s.onreadystatechange=function(){s.readyState<2||4===s.readyState&&0===s.status||a||(a=!0,n.onheaders(s))},s.onload=function(){s.status>=200&&s.status<300?n.onload(s):n.onerror(s)},s.onerror=function(){return n.onerror(s)},s.onabort=function(){o=!0,n.onabort()},s.ontimeout=function(){return n.ontimeout(s)},s.open(r.method,t,!0),Ce(r.timeout)&&(s.timeout=r.timeout),Object.keys(r.headers).forEach(function(l){var c=unescape(encodeURIComponent(r.headers[l]));s.setRequestHeader(l,c)}),r.responseType&&(s.responseType=r.responseType),r.withCredentials&&(s.withCredentials=!0),s.send(e),n},$=function(e,t,r,n){return{type:e,code:t,body:r,headers:n}},De=function(e){return function(t){e($("error",0,"Timeout",t.getAllResponseHeaders()))}},Hr=function(e){return/\?/.test(e)},Xe=function(){for(var e="",t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(o){e+=Hr(e)&&Hr(o)?o.replace(/\?/,"&"):o}),e},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!re(t.url))return null;var r=t.onload||function(o){return o},n=t.onerror||function(o){return null};return function(o,a,s,u,l,c){var f=Se(o,Xe(e,t.url),Object.assign({},t,{responseType:"blob"}));return f.onload=function(d){var E=d.getAllResponseHeaders(),I=Bt(E).name||je(o);a($("load",d.status,"HEAD"===t.method?null:Ge(r(d.response),I),E))},f.onerror=function(d){s($("error",d.status,n(d.response)||d.statusText,d.getAllResponseHeaders()))},f.onheaders=function(d){c($("headers",d.status,null,d.getAllResponseHeaders()))},f.ontimeout=De(s),f.onprogress=u,f.onabort=l,f}},ue_QUEUED=0,ue_COMPLETE=1,ue_PROCESSING=2,ue_ERROR=3,ue_WAITING=4,Ro=function(e,t,r,n,o,a,s,u,l,c,f){for(var d=[],I=f.chunkServer,T=f.chunkSize,v=f.chunkRetryDelays,_={serverId:f.chunkTransferId,aborted:!1},S=t.ondata||function(m){return m},P=t.onload||function(m,p){return"HEAD"===p?m.getResponseHeader("Upload-Offset"):m.response},h=t.onerror||function(m){return null},H=Math.floor(n.size/T),z=0;z<=H;z++){var y=z*T,A=n.slice(y,y+T,"application/offset+octet-stream");d[z]={index:z,size:A.size,offset:y,data:A,file:n,progress:0,retries:st(v),status:ue_QUEUED,error:null,request:null,timeout:null}}var p,b,G,V,O=function(p){return p.status===ue_QUEUED||p.status===ue_ERROR},D=function(p){if(!_.aborted){if(!(p=p||d.find(O)))return void(d.every(function(q){return q.status===ue_COMPLETE})&&a(_.serverId));p.status=ue_PROCESSING,p.progress=null;var b=I.ondata||function(q){return q},C=I.onerror||function(q){return null},G=Xe(e,I.url,_.serverId),V="function"==typeof I.headers?I.headers(p):Object.assign({},I.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":p.offset,"Upload-Length":n.size,"Upload-Name":n.name}),U=p.request=Se(b(p.data),G,Object.assign({},I,{headers:V}));U.onload=function(){p.status=ue_COMPLETE,p.request=null,Y()},U.onprogress=function(q,xe,Ke){p.progress=q?xe:null,W()},U.onerror=function(q){p.status=ue_ERROR,p.request=null,p.error=C(q.response)||q.statusText,L(p)||s($("error",q.status,C(q.response)||q.statusText,q.getAllResponseHeaders()))},U.ontimeout=function(q){p.status=ue_ERROR,p.request=null,L(p)||De(s)(q)},U.onabort=function(){p.status=ue_QUEUED,p.request=null,l()}}},L=function(p){return 0!==p.retries.length&&(p.status=ue_WAITING,clearTimeout(p.timeout),p.timeout=setTimeout(function(){D(p)},p.retries.shift()),!0)},W=function(){var p=d.reduce(function(C,G){return null===C||null===G.progress?null:C+G.progress},0);if(null===p)return u(!1,0,0);var b=d.reduce(function(C,G){return C+G.size},0);u(!0,p,b)},Y=function(){d.filter(function(b){return b.status===ue_PROCESSING}).length>=1||D()};return _.serverId?(p=function(m){_.aborted||(d.filter(function(p){return p.offset<m}).forEach(function(p){p.status=ue_COMPLETE,p.progress=p.size}),Y())},b=Xe(e,I.url,_.serverId),G={headers:"function"==typeof t.headers?t.headers(_.serverId):Object.assign({},t.headers),method:"HEAD"},(V=Se(null,b,G)).onload=function(U){return p(P(U,G.method))},V.onerror=function(U){return s($("error",U.status,h(U.response)||U.statusText,U.getAllResponseHeaders()))},V.ontimeout=De(s)):function(p){var b=new FormData;J(o)&&b.append(r,JSON.stringify(o));var C="function"==typeof t.headers?t.headers(n,o):Object.assign({},t.headers,{"Upload-Length":n.size}),G=Object.assign({},t,{headers:C}),V=Se(S(b),Xe(e,t.url),G);V.onload=function(U){return p(P(U,G.method))},V.onerror=function(U){return s($("error",U.status,h(U.response)||U.statusText,U.getAllResponseHeaders()))},V.ontimeout=De(s)}(function(m){_.aborted||(c(m),_.serverId=m,Y())}),{abort:function(){_.aborted=!0,d.forEach(function(p){clearTimeout(p.timeout),p.request&&p.request.abort()})}}},yo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t.apply(void 0,[r].concat(a,[n]))}:t&&re(t.url)?function(e,t,r,n){return function(o,a,s,u,l,c,f){if(o){var d=n.chunkUploads;if(o instanceof Blob&&d&&(d&&o.size>n.chunkSize||n.chunkForce))return Ro(e,t,r,o,a,s,u,l,c,f,n);var T=t.ondata||function(R){return R},v=t.onload||function(R){return R},_=t.onerror||function(R){return null},S="function"==typeof t.headers?t.headers(o,a)||{}:Object.assign({},t.headers),P=Object.assign({},t,{headers:S}),h=new FormData;J(a)&&h.append(r,JSON.stringify(a)),(o instanceof Blob?[{name:null,file:o}]:o).forEach(function(R){h.append(r,R.file,null===R.name?R.file.name:""+R.name+R.file.name)});var F=Se(T(h),Xe(e,t.url),P);return F.onload=function(R){s($("load",R.status,v(R.response),R.getAllResponseHeaders()))},F.onerror=function(R){u($("error",R.status,_(R.response)||R.statusText,R.getAllResponseHeaders()))},F.ontimeout=De(u),F.onprogress=l,F.onabort=c,F}}}(e,t,r,n):null},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!re(t.url))return function(o,a){return a()};var r=t.onload||function(o){return o},n=t.onerror||function(o){return null};return function(o,a,s){var u=Se(o,e+t.url,t);return u.onload=function(l){a($("load",l.status,r(l.response),l.getAllResponseHeaders()))},u.onerror=function(l){s($("error",l.status,n(l.response)||l.statusText,l.getAllResponseHeaders()))},u.ontimeout=De(s),u}},zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Do=function(e,t){var r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=t.allowMinimumUploadDuration,a=function(){r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},u=n?function(){return r.progress?Math.min(r.progress,r.perceivedProgress):null}:function(){return r.progress||null},l=n?function(){return Math.min(r.duration,r.perceivedDuration)}:function(){return r.duration},c=Object.assign({},ut(),{process:function(d,E){var I=function(){0===r.duration||null===r.progress||c.fire("progress",c.getProgress())},T=function(){r.complete=!0,c.fire("load-perceived",r.response.body)};c.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=null,s=Date.now();return t>0&&function l(){var c=Date.now()-s,f=zr(n,o);c+f>t&&(f=c+f-t);var d=c/t;d>=1||document.hidden?e(1):(e(d),a=setTimeout(l,f))}(),{clear:function(){clearTimeout(a)}}}(function(v){r.perceivedProgress=v,r.perceivedDuration=Date.now()-r.timestamp,I(),r.response&&1===r.perceivedProgress&&!r.complete&&T()},n?zr(750,1500):0),r.request=e(d,E,function(v){r.response=J(v)?v:{type:"load",code:200,body:""+v,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,c.fire("load",r.response.body),(!n||n&&1===r.perceivedProgress)&&T()},function(v){r.perceivedPerformanceUpdater.clear(),c.fire("error",J(v)?v:{type:"error",code:0,body:""+v})},function(v,_,S){r.duration=Date.now()-r.timestamp,r.progress=v?_/S:null,I()},function(){r.perceivedPerformanceUpdater.clear(),c.fire("abort",r.response?r.response.body:null)},function(v){c.fire("transfer",v)})},abort:a,getProgress:u,getDuration:l,reset:function(){a(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null}});return c},Wr=function(e){return e.substring(0,e.lastIndexOf("."))||e},Be=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},Po=function i(e){if(!J(e))return e;var t=et(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]=n&&J(n)?i(n):n}return t},Ao=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Dt(),o={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?N.PROCESSING_COMPLETE:N.INIT,activeLoader:null,activeProcessor:null},a=null,s={},u=function(A){return o.status=A},l=function(A){if(!o.released&&!o.frozen){for(var w=arguments.length,O=new Array(w>1?w-1:0),D=1;D<w;D++)O[D-1]=arguments[D];H.fire.apply(H,[A].concat(O))}},F=function(A,w,O){var D=A.split("."),L=D[0],W=D.pop(),Y=s;D.forEach(function(M){return Y=Y[M]}),JSON.stringify(Y[W])!==JSON.stringify(w)&&(Y[W]=w,l("metadata-update",{key:L,value:s[L],silent:O}))},H=Object.assign({id:{get:function(){return n}},origin:{get:function(){return e},set:function(A){return e=A}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return Wr(o.file.name)}},fileExtension:{get:function(){return ft(o.file.name)}},fileType:{get:function(){return o.file.type}},fileSize:{get:function(){return o.file.size}},file:{get:function(){return o.file}},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:function(A){return Po(A?s[A]:s)},setMetadata:function(A,w,O){if(J(A)){var D=A;return Object.keys(D).forEach(function(L){F(L,D[L],w)}),A}return F(A,w,O),w},extend:function(A,w){return z[A]=w},abortLoad:function(){o.activeLoader?o.activeLoader.abort():(u(N.INIT),l("load-abort"))},retryLoad:function(){o.activeLoader&&o.activeLoader.load()},requestProcessing:function(){o.processingAborted=!1,u(N.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise(function(A){if(!o.activeProcessor)return o.processingAborted=!0,u(N.IDLE),l("process-abort"),void A();a=function(){A()},o.activeProcessor.abort()})},load:function(A,w,O){o.source=A,H.fireSync("init"),o.file?H.fireSync("load-skip"):(o.file=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||Gt(e)?t[0]=e.name||Vr():Gt(e)?(t[1]=e.length,t[2]=qr(e)):re(e)&&(t[0]=je(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}}(A),w.on("init",function(){l("load-init")}),w.on("meta",function(D){o.file.size=D.size,o.file.filename=D.filename,D.source&&(e=Z.LIMBO,o.serverFileReference=D.source,o.status=N.PROCESSING_COMPLETE),l("load-meta")}),w.on("progress",function(D){u(N.LOADING),l("load-progress",D)}),w.on("error",function(D){u(N.LOAD_ERROR),l("load-request-error",D)}),w.on("abort",function(){u(N.INIT),l("load-abort")}),w.on("load",function(D){o.activeLoader=null;var L=function(M){o.file=Be(M)?M:o.file,u(e===Z.LIMBO&&o.serverFileReference?N.PROCESSING_COMPLETE:N.IDLE),l("load")};o.serverFileReference?L(D):O(D,L,function(M){o.file=D,l("load-meta"),u(N.LOAD_ERROR),l("load-file-error",M)})}),w.setSource(A),o.activeLoader=w,w.load())},process:function y(A,w){if(o.processingAborted)o.processingAborted=!1;else if(u(N.PROCESSING),a=null,o.file instanceof Blob){A.on("load",function(L){o.transferId=null,o.serverFileReference=L}),A.on("transfer",function(L){o.transferId=L}),A.on("load-perceived",function(L){o.activeProcessor=null,o.transferId=null,o.serverFileReference=L,u(N.PROCESSING_COMPLETE),l("process-complete",L)}),A.on("start",function(){l("process-start")}),A.on("error",function(L){o.activeProcessor=null,u(N.PROCESSING_ERROR),l("process-error",L)}),A.on("abort",function(L){o.activeProcessor=null,o.serverFileReference=L,u(N.IDLE),l("process-abort"),a&&a()}),A.on("progress",function(L){l("process-progress",L)});var D=console.error;w(o.file,function(W){o.archived||A.process(W,Object.assign({},s))},D),o.activeProcessor=A}else H.on("load",function(){y(A,w)})},revert:function(A,w){return new Promise(function(O,D){var L=null!==o.serverFileReference?o.serverFileReference:o.transferId;null!==L?(A(L,function(){o.serverFileReference=null,o.transferId=null,O()},function(W){w?(u(N.PROCESSING_REVERT_ERROR),l("process-revert-error"),D(W)):O()}),u(N.IDLE),l("process-revert")):O()})}},ut(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),z=pe(H);return z},jr=function(e,t){var r=function(e,t){return Ee(t)?0:re(t)?e.findIndex(function(r){return r.id===t}):-1}(e,t);if(!(r<0))return e[r]||null},kr=function(e,t,r,n,o,a){var s=Se(null,e,{method:"GET",responseType:"blob"});return s.onload=function(u){var l=u.getAllResponseHeaders(),c=Bt(l).name||je(e);t($("load",u.status,Ge(u.response,c),l))},s.onerror=function(u){r($("error",u.status,u.statusText,u.getAllResponseHeaders()))},s.onheaders=function(u){a($("headers",u.status,null,u.getAllResponseHeaders()))},s.ontimeout=De(r),s.onprogress=n,s.onabort=o,s},Xr=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},dt=function(e){return function(){return Re(e)?e.apply(void 0,arguments):e}},Vt=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(function(){e("DID_UPDATE_ITEMS",{items:fe(t.items)})},0)},$r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(function(o){if(!e)return o(!0);var a=e.apply(void 0,r);return null==a?o(!0):"boolean"==typeof a?o(a):void("function"==typeof a.then&&a.then(o))})},xt=function(e,t){e.items.sort(function(r,n){return t(ne(r),ne(n))})},le=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.query,o=r.success,a=void 0===o?function(){}:o,s=r.failure,u=void 0===s?function(){}:s,l=Ci(r,["query","success","failure"]),c=ye(e.items,n);c?t(c,a,u,l||{}):u({error:$("error",0,"Item not found"),file:null})}},Co=function(e,t,r){return{ABORT_ALL:function(){fe(r.items).forEach(function(o){o.freeze(),o.abortLoad(),o.abortProcessing()})},DID_SET_FILES:function(o){var a=o.value,u=(void 0===a?[]:a).map(function(c){return{source:c.source?c.source:c,options:c.options}}),l=fe(r.items);l.forEach(function(c){u.find(function(f){return f.source===c.source||f.source===c.file})||e("REMOVE_ITEM",{query:c,remove:!1})}),l=fe(r.items),u.forEach(function(c,f){l.find(function(d){return d.source===c.source||d.file===c.source})||e("ADD_ITEM",Object.assign({},c,{interactionMethod:se_NONE,index:f}))})},DID_UPDATE_ITEM_METADATA:function(o){var a=o.id,s=o.action,u=o.change;u.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout(function(){var I,l=jr(r.items,a);if(t("IS_ASYNC")){l.origin===Z.LOCAL&&e("DID_LOAD_ITEM",{id:l.id,error:null,serverFileReference:l.source});var c=function(){setTimeout(function(){e("REQUEST_ITEM_PROCESSING",{query:a})},32)};return l.status===N.PROCESSING_COMPLETE?(I=r.options.instantUpload,void l.revert($e(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(I?c:function(){}).catch(function(){})):l.status===N.PROCESSING?function(I){l.abortProcessing().then(I?c:function(){})}(r.options.instantUpload):void(r.options.instantUpload&&c())}ce("SHOULD_PREPARE_OUTPUT",!1,{item:l,query:t,action:s,change:u}).then(function(E){var I=t("GET_BEFORE_PREPARE_FILE");I&&(E=I(l,E)),E&&e("REQUEST_PREPARE_OUTPUT",{query:a,item:l,success:function(v){e("DID_PREPARE_OUTPUT",{id:a,file:v})}},!0)})},0))},MOVE_ITEM:function(o){var s=o.index,u=ye(r.items,o.query);if(u){var l=r.items.indexOf(u);l!==(s=Ur(s,0,r.items.length-1))&&r.items.splice(s,0,r.items.splice(l,1)[0])}},SORT:function(o){xt(r,o.compare),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(o){var a=o.items,s=o.index,u=o.interactionMethod,l=o.success,c=void 0===l?function(){}:l,f=o.failure,d=void 0===f?function(){}:f,E=s;if(-1===s||typeof s>"u"){var I=t("GET_ITEM_INSERT_LOCATION"),T=t("GET_TOTAL_ITEMS");E="before"===I?0:T}var v=t("GET_IGNORED_FILES"),P=a.filter(function(F){return Be(F)?!v.includes(F.name.toLowerCase()):!Ee(F)}).map(function(h){return new Promise(function(F,R){e("ADD_ITEM",{interactionMethod:u,source:h.source||h,success:F,failure:R,index:E++,options:h.options||{}})})});Promise.all(P).then(c).catch(d)},ADD_ITEM:function(o){var a=o.source,s=o.index,u=void 0===s?-1:s,l=o.interactionMethod,c=o.success,f=void 0===c?function(){}:c,d=o.failure,E=void 0===d?function(){}:d,I=o.options,T=void 0===I?{}:I;if(Ee(a))E({error:$("error",0,"No source"),file:null});else if(!Be(a)||!r.options.ignoredFiles.includes(a.name.toLowerCase())){if(!function(e){var t=fe(e.items).length;if(!e.options.allowMultiple)return 0===t;var r=e.options.maxFiles;return null===r||t<r}(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){var v=$("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:a,error:v}),void E({error:v,file:null})}var _=fe(r.items)[0];if(_.status===N.PROCESSING_COMPLETE||_.status===N.PROCESSING_REVERT_ERROR){var S=t("GET_FORCE_REVERT");if(_.revert($e(r.options.server.url,r.options.server.revert),S).then(function(){S&&e("ADD_ITEM",{source:a,index:u,interactionMethod:l,success:f,failure:E,options:T})}).catch(function(){}),S)return}e("REMOVE_ITEM",{query:_.id})}var P="local"===T.type?Z.LOCAL:"limbo"===T.type?Z.LIMBO:Z.INPUT,h=Ao(P,P===Z.INPUT?null:a,T.file);Object.keys(T.metadata||{}).forEach(function(O){h.setMetadata(O,T.metadata[O])}),Oe("DID_CREATE_ITEM",h,{query:t,dispatch:e});var F=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(u="before"===F?-1:r.items.length),function(e,t,r){Ee(t)||(typeof r>"u"?e.push(t):function(e,t,r){e.splice(t,0,r)}(e,r=Ur(r,0,e.length),t))}(r.items,h,u),Re(F)&&a&&xt(r,F);var R=h.id;h.on("init",function(){e("DID_INIT_ITEM",{id:R})}),h.on("load-init",function(){e("DID_START_ITEM_LOAD",{id:R})}),h.on("load-meta",function(){e("DID_UPDATE_ITEM_META",{id:R})}),h.on("load-progress",function(O){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:R,progress:O})}),h.on("load-request-error",function(O){var D=dt(r.options.labelFileLoadError)(O);if(O.code>=400&&O.code<500)return e("DID_THROW_ITEM_INVALID",{id:R,error:O,status:{main:D,sub:O.code+" ("+O.body+")"}}),void E({error:O,file:ne(h)});e("DID_THROW_ITEM_LOAD_ERROR",{id:R,error:O,status:{main:D,sub:r.options.labelTapToRetry}})}),h.on("load-file-error",function(O){e("DID_THROW_ITEM_INVALID",{id:R,error:O.status,status:O.status}),E({error:O.status,file:ne(h)})}),h.on("load-abort",function(){e("REMOVE_ITEM",{query:R})}),h.on("load-skip",function(){e("COMPLETE_LOAD_ITEM",{query:R,item:h,data:{source:a,success:f}})}),h.on("load",function(){var O=function(L){L?(h.on("metadata-update",function(W){e("DID_UPDATE_ITEM_METADATA",{id:R,change:W})}),ce("SHOULD_PREPARE_OUTPUT",!1,{item:h,query:t}).then(function(W){var Y=t("GET_BEFORE_PREPARE_FILE");Y&&(W=Y(h,W));var M=function(){e("COMPLETE_LOAD_ITEM",{query:R,item:h,data:{source:a,success:f}}),Vt(e,r)};W?e("REQUEST_PREPARE_OUTPUT",{query:R,item:h,success:function(p){e("DID_PREPARE_OUTPUT",{id:R,file:p}),M()}},!0):M()})):e("REMOVE_ITEM",{query:R})};ce("DID_LOAD_ITEM",h,{query:t,dispatch:e}).then(function(){$r(t("GET_BEFORE_ADD_FILE"),ne(h)).then(O)}).catch(function(D){if(!D||!D.error||!D.status)return O(!1);e("DID_THROW_ITEM_INVALID",{id:R,error:D.error,status:D.status})})}),h.on("process-start",function(){e("DID_START_ITEM_PROCESSING",{id:R})}),h.on("process-progress",function(O){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:R,progress:O})}),h.on("process-error",function(O){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:R,error:O,status:{main:dt(r.options.labelFileProcessingError)(O),sub:r.options.labelTapToRetry}})}),h.on("process-revert-error",function(O){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:R,error:O,status:{main:dt(r.options.labelFileProcessingRevertError)(O),sub:r.options.labelTapToRetry}})}),h.on("process-complete",function(O){e("DID_COMPLETE_ITEM_PROCESSING",{id:R,error:null,serverFileReference:O}),e("DID_DEFINE_VALUE",{id:R,value:O})}),h.on("process-abort",function(){e("DID_ABORT_ITEM_PROCESSING",{id:R})}),h.on("process-revert",function(){e("DID_REVERT_ITEM_PROCESSING",{id:R}),e("DID_DEFINE_VALUE",{id:R,value:null})}),e("DID_ADD_ITEM",{id:R,index:u,interactionMethod:l}),Vt(e,r);var H=r.options.server||{},z=H.url,y=H.load,A=H.restore,w=H.fetch;h.load(a,ho(P===Z.INPUT?re(a)&&function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Xr(location.href)!==Xr(e)}(a)&&w?Ut(z,w):kr:Ut(z,P===Z.LIMBO?A:y)),function(O,D,L){ce("LOAD_FILE",O,{query:t}).then(D).catch(L)})}},REQUEST_PREPARE_OUTPUT:function(o){var a=o.item,s=o.success,u=o.failure,l=void 0===u?function(){}:u,c={error:$("error",0,"Item not found"),file:null};if(a.archived)return l(c);ce("PREPARE_OUTPUT",a.file,{query:t,item:a}).then(function(f){ce("COMPLETE_PREPARE_OUTPUT",f,{query:t,item:a}).then(function(d){if(a.archived)return l(c);s(d)})})},COMPLETE_LOAD_ITEM:function(o){var a=o.item,s=o.data,u=s.success,l=s.source,c=t("GET_ITEM_INSERT_LOCATION");if(Re(c)&&l&&xt(r,c),e("DID_LOAD_ITEM",{id:a.id,error:null,serverFileReference:a.origin===Z.INPUT?null:l}),u(ne(a)),a.origin!==Z.LOCAL)return a.origin===Z.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:a.id,error:null,serverFileReference:l}),void e("DID_DEFINE_VALUE",{id:a.id,value:a.serverId||l})):void(t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:a.id}));e("DID_LOAD_LOCAL_ITEM",{id:a.id})},RETRY_ITEM_LOAD:le(r,function(n){n.retryLoad()}),REQUEST_ITEM_PREPARE:le(r,function(n,o,a){e("REQUEST_PREPARE_OUTPUT",{query:n.id,item:n,success:function(u){e("DID_PREPARE_OUTPUT",{id:n.id,file:u}),o({file:n,output:u})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:le(r,function(n,o,a){if(n.status===N.IDLE||n.status===N.PROCESSING_ERROR)n.status!==N.PROCESSING_QUEUED&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:o,failure:a},!0));else{var u=function(){return e("REQUEST_ITEM_PROCESSING",{query:n,success:o,failure:a})},l=function(){return document.hidden?u():setTimeout(u,32)};n.status===N.PROCESSING_COMPLETE||n.status===N.PROCESSING_REVERT_ERROR?n.revert($e(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(function(){}):n.status===N.PROCESSING&&n.abortProcessing().then(l)}}),PROCESS_ITEM:le(r,function(n,o,a){var s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",N.PROCESSING).length!==s){if(n.status!==N.PROCESSING){var l=function f(){var d=r.processingQueue.shift();if(d){var E=d.id,I=d.success,T=d.failure,v=ye(r.items,E);if(!v||v.archived)return void f();e("PROCESS_ITEM",{query:E,success:I,failure:T},!0)}};n.onOnce("process-complete",function(){if(o(ne(n)),l(),r.options.instantUpload&&n.origin===Z.LOCAL&&Re(r.options.server.remove)){var E=function(){};n.origin=Z.LIMBO,r.options.server.remove(n.source,E,E)}t("GET_ITEMS_BY_STATUS",N.PROCESSING_COMPLETE).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),n.onOnce("process-error",function(f){a({error:f,file:ne(n)}),l()});var c=r.options;n.process(Do(yo(c.server.url,c.server.process,c.name,{chunkTransferId:n.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(f,d,E){ce("PREPARE_OUTPUT",f,{query:t,item:n}).then(function(I){e("DID_PREPARE_OUTPUT",{id:n.id,file:I}),d(I)}).catch(E)})}}else r.processingQueue.push({id:n.id,success:o,failure:a})}),RETRY_ITEM_PROCESSING:le(r,function(n){e("REQUEST_ITEM_PROCESSING",{query:n})}),REQUEST_REMOVE_ITEM:le(r,function(n){$r(t("GET_BEFORE_REMOVE_FILE"),ne(n)).then(function(o){o&&e("REMOVE_ITEM",{query:n})})}),RELEASE_ITEM:le(r,function(n){n.release()}),REMOVE_ITEM:le(r,function(n,o,a,s){var u=function(){var f=n.id;jr(r.items,f).archive(),e("DID_REMOVE_ITEM",{error:null,id:f,item:n}),Vt(e,r),o(ne(n))},l=r.options.server;n.origin===Z.LOCAL&&l&&Re(l.remove)&&!1!==s.remove?(e("DID_START_ITEM_REMOVE",{id:n.id}),l.remove(n.source,function(){return u()},function(c){e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:$("error",0,c,null),status:{main:dt(r.options.labelFileRemoveError)(c),sub:r.options.labelTapToRetry}})})):((s.revert&&n.origin!==Z.LOCAL&&null!==n.serverId||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert($e(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),u())}),ABORT_ITEM_LOAD:le(r,function(n){n.abortLoad()}),ABORT_ITEM_PROCESSING:le(r,function(n){n.serverId?e("REVERT_ITEM_PROCESSING",{id:n.id}):n.abortProcessing().then(function(){r.options.instantUpload&&e("REMOVE_ITEM",{query:n.id})})}),REQUEST_REVERT_ITEM_PROCESSING:le(r,function(n){if(r.options.instantUpload){var o=function(l){l&&e("REVERT_ITEM_PROCESSING",{query:n})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return o(!0);var s=a(ne(n));return null==s?o(!0):"boolean"==typeof s?o(s):void("function"==typeof s.then&&s.then(o))}e("REVERT_ITEM_PROCESSING",{query:n})}),REVERT_ITEM_PROCESSING:le(r,function(n){n.revert($e(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(function(){(r.options.instantUpload||function(e){return!Be(e.file)}(n))&&e("REMOVE_ITEM",{query:n.id})}).catch(function(){})}),SET_OPTIONS:function(o){var a=o.options,s=Object.keys(a),u=No.filter(function(c){return s.includes(c)});[].concat(st(u),st(Object.keys(a).filter(function(c){return!u.includes(c)}))).forEach(function(c){e("SET_"+nt(c,"_").toUpperCase(),{value:a[c]})})}}},No=["server"],ge=function(e){return document.createElement(e)},Q=function(e,t){var r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},Qr=function(e,t,r,n){var o=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(o),y:t+r*Math.sin(o)}},Go=function(e,t,r,n,o){var a=1;return o>n&&o-n<=.5&&(a=0),n>o&&n-o>=.5&&(a=0),function(e,t,r,n,o,a){var s=Qr(e,t,r,o),u=Qr(e,t,r,n);return["M",s.x,s.y,"A",r,r,0,a,0,u.x,u.y].join(" ")}(e,t,r,360*Math.min(.9999,n),360*Math.min(.9999,o),a)},Kr=K({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,r=e.props;r.spin=!1,r.progress=0,r.opacity=0;var n=ae("svg");t.ref.path=ae("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(t.ref.path),t.ref.svg=n,t.appendChild(n)},write:function(e){var t=e.root,r=e.props;if(0!==r.opacity){r.align&&(t.element.dataset.align=r.align);var n=parseInt(X(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,a=0,s=0;r.spin?(a=0,s=.5):(a=0,s=r.progress);var u=Go(o,o,o-n,a,s);X(t.ref.path,"d",u),X(t.ref.path,"stroke-opacity",r.spin||r.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Zr=K({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var r=e.props;e.root.element.innerHTML=(r.icon||"")+"<span>"+r.label+"</span>",r.isDisabled=!1},write:function(e){var t=e.root,r=e.props,n=r.isDisabled,o=t.query("GET_DISABLED")||0===r.opacity;o&&!n?(r.isDisabled=!0,X(t.element,"disabled","disabled")):!o&&n&&(r.isDisabled=!1,t.element.removeAttribute("disabled"))}}),Jr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.labelBytes,a=void 0===o?"bytes":o,s=n.labelKilobytes,u=void 0===s?"KB":s,l=n.labelMegabytes,c=void 0===l?"MB":l,f=n.labelGigabytes,d=void 0===f?"GB":f,I=r*r,T=r*r*r;return(e=Math.round(Math.abs(e)))<r?e+" "+a:e<I?Math.floor(e/r)+" "+u:e<T?en(e/I,1,t)+" "+c:en(e/T,2,t)+" "+d},en=function(e,t,r){return e.toFixed(t).split(".").filter(function(n){return"0"!==n}).join(r)},Yt=function(e){var t=e.root,r=e.props;Q(t.ref.fileSize,Jr(t.query("GET_ITEM_SIZE",r.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),Q(t.ref.fileName,t.query("GET_ITEM_NAME",r.id))},tn=function(e){var t=e.root,r=e.props;Ce(t.query("GET_ITEM_SIZE",r.id))?Yt({root:t,props:r}):Q(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Yo=K({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:te({DID_LOAD_ITEM:Yt,DID_UPDATE_ITEM_META:Yt,DID_THROW_ITEM_LOAD_ERROR:tn,DID_THROW_ITEM_INVALID:tn}),didCreateView:function(e){Oe("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,r=e.props,n=ge("span");n.className="filepond--file-info-main",X(n,"aria-hidden","true"),t.appendChild(n),t.ref.fileName=n;var o=ge("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,Q(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Q(n,t.query("GET_ITEM_NAME",r.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),rn=function(e){return Math.round(100*e)},nn=function(e){var t=e.root,r=e.action,n=null===r.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+rn(r.progress)+"%";Q(t.ref.main,n),Q(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},on=function(e){var t=e.root;Q(t.ref.main,""),Q(t.ref.sub,"")},Qe=function(e){var t=e.root,r=e.action;Q(t.ref.main,r.status.main),Q(t.ref.sub,r.status.sub)},Xo=K({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:te({DID_LOAD_ITEM:on,DID_REVERT_ITEM_PROCESSING:on,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;Q(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),Q(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;Q(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Q(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;Q(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Q(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,r=e.action,n=null===r.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+rn(r.progress)+"%";Q(t.ref.main,n),Q(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:nn,DID_THROW_ITEM_LOAD_ERROR:Qe,DID_THROW_ITEM_INVALID:Qe,DID_THROW_ITEM_PROCESSING_ERROR:Qe,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Qe,DID_THROW_ITEM_REMOVE_ERROR:Qe}),didCreateView:function(e){Oe("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,r=ge("span");r.className="filepond--file-status-main",t.appendChild(r),t.ref.main=r;var n=ge("span");n.className="filepond--file-status-sub",t.appendChild(n),t.ref.sub=n,nn({root:t,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ht={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},zt=[];k(Ht,function(i){zt.push(i)});var i,oe=function(e){if("right"===Wt(e))return 0;var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},$o=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},pt=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},Qo=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Wt=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Jo={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},an={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:oe},status:{translateX:oe}},jt={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Ue={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:oe},status:{translateX:oe,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:oe},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Wt},info:{translateX:oe},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Wt},buttonRemoveItem:{opacity:1},info:{translateX:oe},status:{opacity:1,translateX:oe}},DID_LOAD_ITEM:an,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:oe},status:{translateX:oe}},DID_START_ITEM_PROCESSING:jt,DID_REQUEST_ITEM_PROCESSING:jt,DID_UPDATE_ITEM_PROCESS_PROGRESS:jt,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:oe}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:oe},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:an},ea=K({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),na=te({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){e.root.ref.buttonAbortItemProcessing.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){e.root.ref.buttonAbortItemLoad.label=e.action.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){e.root.ref.buttonAbortItemRemoval.label=e.action.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,r=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=r.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,r=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=r.progress}}),ia=K({create:function(e){var d,t=e.root,r=e.props,n=Object.keys(Ht).reduce(function(S,P){return S[P]=Object.assign({},Ht[P]),S},{}),o=r.id,a=t.query("GET_ALLOW_REVERT"),s=t.query("GET_ALLOW_REMOVE"),u=t.query("GET_ALLOW_PROCESS"),l=t.query("GET_INSTANT_UPLOAD"),c=t.query("IS_ASYNC"),f=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");c?u&&!a?d=function(P){return!/RevertItemProcessing/.test(P)}:!u&&a?d=function(P){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(P)}:!u&&!a&&(d=function(P){return!/Process/.test(P)}):d=function(P){return!/Process/.test(P)};var E=d?zt.filter(d):zt.concat();if(l&&a&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!a){var I=Ue.DID_COMPLETE_ITEM_PROCESSING;I.info.translateX=Qo,I.info.translateY=pt,I.status.translateY=pt,I.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!u&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(S){Ue[S].status.translateY=pt}),Ue.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=$o),f&&a){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var T=Ue.DID_COMPLETE_ITEM_PROCESSING;T.info.translateX=oe,T.status.translateY=pt,T.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(n.RemoveItem.disabled=!0),k(n,function(S,P){var h=t.createChildView(Zr,{label:t.query(P.label),icon:t.query(P.icon),opacity:0});E.includes(S)&&t.appendChildView(h),P.disabled&&(h.element.setAttribute("disabled","disabled"),h.element.setAttribute("hidden","hidden")),h.element.dataset.align=t.query("GET_STYLE_"+P.align),h.element.classList.add(P.className),h.on("click",function(F){F.stopPropagation(),!P.disabled&&t.dispatch(P.action,{query:o})}),t.ref["button"+S]=h}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(ea)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(Yo,{id:o})),t.ref.status=t.appendChildView(t.createChildView(Xo,{id:o}));var v=t.appendChildView(t.createChildView(Kr,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));v.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=v;var _=t.appendChildView(t.createChildView(Kr,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));_.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=_,t.ref.activeStyles=[]},write:function(e){var t=e.root,r=e.actions;na({root:t,actions:r,props:e.props});var o=r.concat().filter(function(s){return/^DID_/.test(s.type)}).reverse().find(function(s){return Ue[s.type]});if(o){t.ref.activeStyles=[];var a=Ue[o.type];k(Jo,function(s,u){var l=t.ref[s];k(u,function(c,f){t.ref.activeStyles.push({control:l,key:c,value:a[s]&&typeof a[s][c]<"u"?a[s][c]:f})})})}t.ref.activeStyles.forEach(function(s){var c=s.value;s.control[s.key]="function"==typeof c?c(t):c})},didCreateView:function(e){Oe("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),sa=K({create:function(e){var t=e.root,r=e.props;t.ref.fileName=ge("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(ia,{id:r.id})),t.ref.data=!1},ignoreRect:!0,write:te({DID_LOAD_ITEM:function(e){var t=e.root;Q(t.ref.fileName,t.query("GET_ITEM_NAME",e.props.id))}}),didCreateView:function(e){Oe("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),sn={type:"spring",damping:.6,mass:7},la=function(e,t,r){var n=K({name:"panel-"+t.name+" filepond--"+r,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(o)},un=K({name:"panel",read:function(e){return e.props.heightCurrent=e.root.ref.bottom.translateY},write:function(e){var t=e.root,r=e.props;if((null===t.ref.scalable||r.scalable!==t.ref.scalable)&&(t.ref.scalable=!vr(r.scalable)||r.scalable,t.element.dataset.scalable=t.ref.scalable),r.height){var n=t.ref.top.rect.element,o=t.ref.bottom.rect.element,a=Math.max(n.height+o.height,r.height);t.ref.center.translateY=n.height,t.ref.center.scaleY=(a-n.height-o.height)/100,t.ref.bottom.translateY=a-o.height}},create:function(e){var t=e.root,r=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:sn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:sn},styles:["translateY"]}}].forEach(function(n){la(t,n,r.name)}),t.element.classList.add("filepond--"+r.name),t.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),ln={type:"spring",stiffness:.75,damping:.45,mass:10},fn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},pa=te({DID_UPDATE_PANEL_HEIGHT:function(e){e.root.height=e.action.height}}),va=te({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,r=e.props;r.dragOffset=null,r.dragOrigin=null,t.element.dataset.dragState="drop"}},function(i){var e=i.root,t=i.actions,r=i.props,n=i.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var o=t.concat().filter(function(s){return/^DID_/.test(s.type)}).reverse().find(function(s){return fn[s.type]});o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=fn[r.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?n||(e.height=e.rect.element.width*a):(pa({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Ea=K({create:function(e){var t=e.root,r=e.props;if(t.ref.handleClick=function(o){return t.dispatch("DID_ACTIVATE_ITEM",{id:r.id})},t.element.id="filepond--item-"+r.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(sa,{id:r.id})),t.ref.panel=t.appendChildView(t.createChildView(un,{name:"item-panel"})),t.ref.panel.height=null,r.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";t.element.addEventListener("pointerdown",function(a){if(a.isPrimary){var s=!1,u={x:a.pageX,y:a.pageY};r.dragOrigin={x:t.translateX,y:t.translateY},r.dragCenter={x:a.offsetX,y:a.offsetY};var l=function(e){var t=e.map(function(n){return n.id}),r=void 0;return{setIndex:function(o){r=o},getIndex:function(){return r},getItemIndex:function(o){return t.indexOf(o.id)}}}(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:r.id,dragState:l});var c=function(E){E.isPrimary&&(E.stopPropagation(),E.preventDefault(),r.dragOffset={x:E.pageX-u.x,y:E.pageY-u.y},r.dragOffset.x*r.dragOffset.x+r.dragOffset.y*r.dragOffset.y>16&&!s&&(s=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:r.id,dragState:l}))};document.addEventListener("pointermove",c),document.addEventListener("pointerup",function d(E){E.isPrimary&&(document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",d),r.dragOffset={x:E.pageX-u.x,y:E.pageY-u.y},t.dispatch("DID_DROP_ITEM",{id:r.id,dragState:l}),s&&setTimeout(function(){return t.element.addEventListener("click",t.ref.handleClick)},0))})}})}},write:va,destroy:function(e){var t=e.root,r=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:r.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:ln,translateY:ln,opacity:{type:"tween",duration:150}}}}),kt=function(i,e){return Math.max(1,Math.floor((i+1)/e))},Xt=function(e,t,r){if(r){var o=t.length,a=null;if(0===o||r.top<t[0].rect.element.top)return-1;var u=t[0].rect.element,c=u.width+(u.marginLeft+u.marginRight),f=kt(e.rect.element.width,c);if(1===f){for(var d=0;d<o;d++){var E=t[d];if(r.top<E.rect.outer.top+.5*E.rect.element.height)return d}return o}for(var v=u.height+(u.marginTop+u.marginBottom),_=0;_<o;_++){var S=_%f,F=Math.floor(_/f)*v;if(r.top<F+v+u.marginBottom&&r.top>F-u.marginTop){if(r.left<S*c+c)return _;a=_!==o-1?_:null}}return null!==a?a:o}},vt={height:0,width:0,get getHeight(){return this.height},set setHeight(i){(0===this.height||0===i)&&(this.height=i)},get getWidth(){return this.width},set setWidth(i){(0===this.width||0===i)&&(this.width=i)},setDimensions:function(e,t){(0===this.height||0===e)&&(this.height=e),(0===this.width||0===t)&&(this.width=t)}},dn=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(0===e.opacity&&Ia(e,t,r,n,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},Ia=function(e,t,r,n,o){e.interactionMethod===se_NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===se_DROP?(e.translateX=null,e.translateX=t-20*n,e.translateY=null,e.translateY=r-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===se_BROWSE?(e.translateY=null,e.translateY=r-30):e.interactionMethod===se_API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},$t=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},Ra=te({DID_ADD_ITEM:function(e){var t=e.root,r=e.action,n=r.id,o=r.index,a=r.interactionMethod;t.ref.addIndex=o;var s=Date.now(),u=s,l=1;if(a!==se_NONE){l=0;var c=t.query("GET_ITEM_INSERT_INTERVAL"),f=s-t.ref.lastItemSpanwDate;u=f<c?s+(c-f):s}t.ref.lastItemSpanwDate=u,t.appendChildView(t.createChildView(Ea,{spawnDate:u,id:n,opacity:l,interactionMethod:a}),o)},DID_REMOVE_ITEM:function(e){var n=e.action.id,o=e.root.childViews.find(function(a){return a.id===n});o&&(o.scaleX=.9,o.scaleY=.9,o.opacity=0,o.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,r=e.action,n=r.id,o=r.dragState,a=t.query("GET_ITEM",{id:n}),s=t.childViews.find(function(S){return S.id===n}),u=t.childViews.length,l=o.getItemIndex(a);if(s){var c={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},f=$t(s),d=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight}(s),E=Math.floor(t.rect.outer.width/d);E>u&&(E=u);var I=Math.floor(u/E+1);vt.setHeight=f*I,vt.setWidth=d*E;var T={y:Math.floor(c.y/f),x:Math.floor(c.x/d),getGridIndex:function(){return c.y>vt.getHeight||c.y<0||c.x>vt.getWidth||c.x<0?l:this.y*E+this.x},getColIndex:function(){for(var P=t.query("GET_ACTIVE_ITEMS"),h=t.childViews.filter(function(L){return L.rect.element.height}),F=P.map(function(L){return h.find(function(W){return W.id===L.id})}),R=F.findIndex(function(L){return L===s}),H=$t(s),z=F.length,y=z,A=0,w=0,O=0,D=0;D<z;D++)if(A=$t(F[D]),c.y<(w=(O=w)+A)){if(R>D){if(c.y<O+H){y=D;break}continue}y=D;break}return y}},v=E>1?T.getGridIndex():T.getColIndex();t.dispatch("MOVE_ITEM",{query:s,index:v});var _=o.getIndex();if(void 0===_||_!==v){if(o.setIndex(v),void 0===_)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:l,target:v})}}}}),Sa=K({create:function(e){var t=e.root;X(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},write:function(e){var t=e.root,r=e.props,o=e.shouldOptimize;Ra({root:t,props:r,actions:e.actions});var a=r.dragCoordinates,s=t.rect.element.width,u=t.childViews.filter(function(y){return y.rect.element.height}),l=t.query("GET_ACTIVE_ITEMS").map(function(y){return u.find(function(A){return A.id===y.id})}).filter(function(y){return y}),c=a?Xt(t,l,a):null,f=t.ref.addIndex||null;t.ref.addIndex=null;var d=0,E=0,I=0;if(0!==l.length){var T=l[0].rect.element,v=T.marginTop+T.marginBottom,S=T.width+(T.marginLeft+T.marginRight),P=T.height+v,h=kt(s,S);if(1===h){var F=0,R=0;l.forEach(function(y,A){if(c){var w=A-c;R=-2===w?.25*-v:-1===w?.75*-v:0===w?.75*v:1===w?.25*v:0}o&&(y.translateX=null,y.translateY=null),y.markedForRemoval||dn(y,0,F+R),F+=(y.rect.element.height+v)*(y.markedForRemoval?y.opacity:1)})}else{var H=0,z=0;l.forEach(function(y,A){A===c&&(d=1),A===f&&(I+=1),y.markedForRemoval&&y.opacity<.5&&(E-=1);var w=A+I+d+E,O=w%h,D=Math.floor(w/h),L=O*S,W=D*P,Y=Math.sign(L-H),M=Math.sign(W-z);H=L,z=W,!y.markedForRemoval&&(o&&(y.translateX=null,y.translateY=null),dn(y,L,W,Y,M))})}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter(function(r){return r.markedForRemoval&&0===r.opacity&&r.resting}).forEach(function(r){r._destroy(),t.removeChildView(r)})},filterFrameActionsForChild:function(e,t){return t.filter(function(r){return!r.data||!r.data.id||e.id===r.data.id})},mixins:{apis:["dragCoordinates"]}}),Aa=te({DID_DRAG:function(e){var t=e.root,r=e.props,n=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(r.dragCoordinates={left:n.position.scopeLeft-t.ref.list.rect.element.left,top:n.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),La=K({create:function(e){var t=e.root,r=e.props;t.ref.list=t.appendChildView(t.createChildView(Sa)),r.dragCoordinates=null,r.overflowing=!1},write:function(e){var t=e.root,r=e.props;if(Aa({root:t,props:r,actions:e.actions}),t.ref.list.dragCoordinates=r.dragCoordinates,r.overflowing&&!r.overflow&&(r.overflowing=!1,t.element.dataset.state="",t.height=null),r.overflow){var o=Math.round(r.overflow);o!==t.height&&(r.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),de=function(e,t,r){r?X(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},pn=function(e){var t=e.root,r=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&de(t.element,"accept",!!r.value,r.value?r.value.join(","):"")},vn=function(e){de(e.root.element,"multiple",e.action.value)},En=function(e){de(e.root.element,"webkitdirectory",e.action.value)},Qt=function(e){var t=e.root,r=t.query("GET_DISABLED"),n=t.query("GET_ALLOW_BROWSE");de(t.element,"disabled",r||!n)},gn=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&de(t.element,"required",!0):de(t.element,"required",!1)},mn=function(e){var r=e.action;de(e.root.element,"capture",!!r.value,!0===r.value?"":r.value)},In=function(e){var t=e.root,r=t.element;t.query("GET_TOTAL_ITEMS")>0?(de(r,"required",!1),de(r,"name",!1)):(de(r,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&r.setCustomValidity(""),t.query("GET_REQUIRED")&&de(r,"required",!0))},Fa=K({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(e){var t=e.root,r=e.props;t.element.id="filepond--browser-"+r.id,X(t.element,"name",t.query("GET_NAME")),X(t.element,"aria-controls","filepond--assistant-"+r.id),X(t.element,"aria-labelledby","filepond--drop-label-"+r.id),pn({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),vn({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),En({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Qt({root:t}),gn({root:t,action:{value:t.query("GET_REQUIRED")}}),mn({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(n){if(t.element.value){var o=Array.from(t.element.files).map(function(a){return a._relativePath=a.webkitRelativePath,a});setTimeout(function(){r.onload(o),function(e){if(e&&""!==e.value){try{e.value=""}catch{}if(e.value){var t=ge("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}}(t.element)},250)}},t.element.addEventListener("change",t.ref.handleChange)},destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:te({DID_LOAD_ITEM:In,DID_REMOVE_ITEM:In,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Qt,DID_SET_ALLOW_BROWSE:Qt,DID_SET_ALLOW_DIRECTORIES_ONLY:En,DID_SET_ALLOW_MULTIPLE:vn,DID_SET_ACCEPTED_FILE_TYPES:pn,DID_SET_CAPTURE_METHOD:mn,DID_SET_REQUIRED:gn})}),Tn_ENTER=13,Tn_SPACE=32,_n=function(e,t){e.innerHTML=t;var r=e.querySelector(".filepond--label-action");return r&&X(r,"tabindex","0"),t},Ba=K({name:"drop-label",ignoreRect:!0,create:function(e){var t=e.root,r=e.props,n=ge("label");X(n,"for","filepond--browser-"+r.id),X(n,"id","filepond--drop-label-"+r.id),X(n,"aria-hidden","true"),t.ref.handleKeyDown=function(o){(o.keyCode===Tn_ENTER||o.keyCode===Tn_SPACE)&&(o.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(o){o.target===n||n.contains(o.target)||t.ref.label.click()},n.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),_n(n,r.caption),t.appendChild(n),t.ref.label=n},destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:te({DID_SET_LABEL_IDLE:function(e){_n(e.root.ref.label,e.action.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Ua=K({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),za=te({DID_DRAG:function(e){var t=e.root,r=e.action;t.ref.blob?(t.ref.blob.translateX=r.position.scopeLeft,t.ref.blob.translateY=r.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):function(e){var t=e.root;t.ref.blob=t.appendChildView(t.createChildView(Ua,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:.5*t.rect.element.width,translateY:.5*t.rect.element.height}))}({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Wa=K({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(e){var t=e.root,n=e.actions;za({root:t,props:e.props,actions:n});var o=t.ref.blob;0===n.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)}}),hn=function(e,t){try{var r=new DataTransfer;t.forEach(function(n){n instanceof File?r.items.add(n):r.items.add(new File([n],n.name,{type:n.type}))}),e.files=r.files}catch{return!1}return!0},Et=function(e,t){return e.ref.fields[t]},Kt=function(e){e.query("GET_ACTIVE_ITEMS").forEach(function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Rn=function(e){return Kt(e.root)},Ja=te({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,r=e.action,a=!(t.query("GET_ITEM",r.id).origin===Z.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),s=ge("input");s.type=a?"file":"hidden",s.name=t.query("GET_NAME"),s.disabled=t.query("GET_DISABLED"),t.ref.fields[r.id]=s,Kt(t)},DID_LOAD_ITEM:function(e){var t=e.root,r=e.action,n=Et(t,r.id);if(n&&(null!==r.serverFileReference&&(n.value=r.serverFileReference),t.query("SHOULD_UPDATE_FILE_INPUT"))){var o=t.query("GET_ITEM",r.id);hn(n,[o.file])}},DID_REMOVE_ITEM:function(e){var t=e.root,r=e.action,n=Et(t,r.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete t.ref.fields[r.id])},DID_DEFINE_VALUE:function(e){var t=e.root,r=e.action,n=Et(t,r.id);n&&(null===r.value?n.removeAttribute("value"):n.value=r.value,Kt(t))},DID_PREPARE_OUTPUT:function(e){var t=e.root,r=e.action;t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var n=Et(t,r.id);n&&hn(n,[r.file])},0)},DID_REORDER_ITEMS:Rn,DID_SORT_ITEMS:Rn}),es=K({tag:"fieldset",name:"data",create:function(e){return e.root.ref.fields={}},write:Ja,ignoreRect:!0}),rs=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],ns=["css","csv","html","txt"],is={zip:"zip|compressed",epub:"application/epub+zip"},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),rs.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):ns.includes(e)?"text/"+e:is[e]||""},Zt=function(e){return new Promise(function(t,r){var n=ds(e);if(n.length&&!os(e))return t(n);as(e).then(t)})},os=function(e){return!!e.files&&e.files.length>0},as=function(e){return new Promise(function(t,r){var n=(e.items?Array.from(e.items):[]).filter(function(o){return ss(o)}).map(function(o){return us(o)});n.length?Promise.all(n).then(function(o){var a=[];o.forEach(function(s){a.push.apply(a,s)}),t(a.filter(function(s){return s}).map(function(s){return s._relativePath||(s._relativePath=s.webkitRelativePath),s}))}).catch(console.error):t(e.files?Array.from(e.files):[])})},ss=function(e){if(yn(e)){var t=Jt(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},us=function(e){return new Promise(function(t,r){fs(e)?ls(Jt(e)).then(t).catch(r):t([e.getAsFile()])})},ls=function(e){return new Promise(function(t,r){var n=[],o=0,a=0,s=function(){0===a&&0===o&&t(n)};!function l(c){o++;var f=c.createReader();!function E(){f.readEntries(function(I){if(0===I.length)return o--,void s();I.forEach(function(T){T.isDirectory?l(T):(a++,T.file(function(v){var _=cs(v);T.fullPath&&(_._relativePath=T.fullPath),n.push(_),a--,s()}))}),E()},r)}()}(e)})},cs=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,r=e.name,n=On(ft(e.name));return n.length&&((e=e.slice(0,e.size,n)).name=r,e.lastModifiedDate=t),e},fs=function(e){return yn(e)&&(Jt(e)||{}).isDirectory},yn=function(e){return"webkitGetAsEntry"in e},Jt=function(e){return e.webkitGetAsEntry()},ds=function(e){var t=[];try{if((t=vs(e)).length)return t;t=ps(e)}catch{}return t},ps=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},vs=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var r=t.match(/src\s*=\s*"(.+?)"/);if(r)return[r[1]]}return[]},gt=[],be=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},gs=function(e){var t=gt.find(function(n){return n.element===e});if(t)return t;var r=ms(e);return gt.push(r),r},ms=function(e){var t=[],r={dragenter:Ts,dragover:_s,dragleave:Rs,drop:hs},n={};k(r,function(a,s){n[a]=s(e,t),e.addEventListener(a,n[a],!1)});var o={element:e,addListener:function(s){return t.push(s),function(){t.splice(t.indexOf(s),1),0===t.length&&(gt.splice(gt.indexOf(o),1),k(r,function(u){e.removeEventListener(u,n[u],!1)}))}}};return o},er=function(e,t){var r=function(e){return"getRootNode"in e?e.getRootNode():document}(t),n=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)}(r,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)},Sn=null,mt=function(e,t){try{e.dropEffect=t}catch{}},Ts=function(e,t){return function(r){r.preventDefault(),Sn=r.target,t.forEach(function(n){var a=n.onenter;er(r,n.element)&&(n.state="enter",a(be(r)))})}},_s=function(e,t){return function(r){r.preventDefault();var n=r.dataTransfer;Zt(n).then(function(o){var a=!1;t.some(function(s){var u=s.filterElement,l=s.element,c=s.onenter,f=s.onexit,d=s.ondrag,E=s.allowdrop;mt(n,"copy");var I=E(o);if(I)if(er(r,l)){if(a=!0,null===s.state)return s.state="enter",void c(be(r));if(s.state="over",u&&!I)return void mt(n,"none");d(be(r))}else u&&!a&&mt(n,"none"),s.state&&(s.state=null,f(be(r)));else mt(n,"none")})})}},hs=function(e,t){return function(r){r.preventDefault(),Zt(r.dataTransfer).then(function(o){t.forEach(function(a){var s=a.filterElement,u=a.element,l=a.ondrop,c=a.onexit,f=a.allowdrop;if(a.state=null,!s||er(r,u)){if(!f(o))return c(be(r));l(be(r),o)}})})}},Rs=function(e,t){return function(r){Sn===r.target&&t.forEach(function(n){var o=n.onexit;n.state=null,o(be(r))})}},Os=function(e,t,r){e.classList.add("filepond--hopper");var a=r.filterItems,s=void 0===a?function(d){return d}:a,u=function(e,t,r){var n=gs(t),o={element:e,filterElement:r,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return o.destroy=n.addListener(o),o}(e,r.catchesDropsOnPage?document.documentElement:e,r.requiresDropOnElement),l="",c="";u.allowdrop=function(d){return t(s(d))},u.ondrop=function(d,E){var I=s(E);t(I)?(c="drag-drop",f.onload(I,d)):f.ondragend(d)},u.ondrag=function(d){f.ondrag(d)},u.onenter=function(d){c="drag-over",f.ondragstart(d)},u.onexit=function(d){c="drag-exit",f.ondragend(d)};var f={updateHopperState:function(){l!==c&&(e.dataset.hopperState=c,l=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){u.destroy()}};return f},tr=!1,Ve=[],Dn=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var r=!1,n=t;n!==document.body;){if(n.classList.contains("filepond--root")){r=!0;break}n=n.parentNode}if(!r)return}Zt(e.clipboardData).then(function(o){o.length&&Ve.forEach(function(a){return a(o)})})},Ds=function(){var e=function(n){t.onload(n)},t={destroy:function(){!function(e){Nt(Ve,Ve.indexOf(e)),0===Ve.length&&(document.removeEventListener("paste",Dn),tr=!1)}(e)},onload:function(){}};return function(e){Ve.includes(e)||(Ve.push(e),!tr&&(tr=!0,document.addEventListener("paste",Dn)))}(e),t},bn=null,Pn=null,rr=[],It=function(e,t){e.element.textContent=t},An=function(e,t,r){var n=e.query("GET_TOTAL_ITEMS");It(e,r+" "+t+", "+n+" "+e.query(1===n?"GET_LABEL_FILE_COUNT_SINGULAR":"GET_LABEL_FILE_COUNT_PLURAL")),clearTimeout(Pn),Pn=setTimeout(function(){!function(e){e.element.textContent=""}(e)},1500)},wn=function(e){return e.element.parentNode.contains(document.activeElement)},Ln=function(e){var t=e.root,o=t.query("GET_ITEM",e.action.id).filename,a=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");It(t,o+" "+a)},Tt=function(e){var t=e.root,r=e.action,n=t.query("GET_ITEM",r.id);It(t,r.status.main+" "+n.filename+" "+r.status.sub)},Ms=K({create:function(e){var t=e.root;t.element.id="filepond--assistant-"+e.props.id,X(t.element,"role","status"),X(t.element,"aria-live","polite"),X(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:te({DID_LOAD_ITEM:function(e){var t=e.root,r=e.action;if(wn(t)){t.element.textContent="";var n=t.query("GET_ITEM",r.id);rr.push(n.filename),clearTimeout(bn),bn=setTimeout(function(){An(t,rr.join(", "),t.query("GET_LABEL_FILE_ADDED")),rr.length=0},750)}},DID_REMOVE_ITEM:function(e){var t=e.root,r=e.action;wn(t)&&An(t,r.item.filename,t.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,o=t.query("GET_ITEM",e.action.id).filename,a=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");It(t,o+" "+a)},DID_ABORT_ITEM_PROCESSING:Ln,DID_REVERT_ITEM_PROCESSING:Ln,DID_THROW_ITEM_REMOVE_ERROR:Tt,DID_THROW_ITEM_LOAD_ERROR:Tt,DID_THROW_ITEM_INVALID:Tt,DID_THROW_ITEM_PROCESSING_ERROR:Tt}),tag:"span",name:"assistant"}),Mn=function(e){return e.replace(new RegExp((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-")+".","g"),function(r){return r.charAt(1).toUpperCase()})},Cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Date.now(),o=null;return function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];clearTimeout(o);var l=Date.now()-n,c=function(){n=Date.now(),e.apply(void 0,s)};l<t?r||(o=setTimeout(c,t-l)):c()}},_t=function(e){return e.preventDefault()},Gs=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Bs=function(e){var t=0,r=0,n=e.ref.list,o=n.childViews[0],a=o.childViews.filter(function(P){return P.rect.element.height}),s=e.query("GET_ACTIVE_ITEMS").map(function(P){return a.find(function(h){return h.id===P.id})}).filter(function(P){return P});if(0===s.length)return{visual:t,bounds:r};var u=o.rect.element.width,l=Xt(o,s,n.dragCoordinates),c=s[0].rect.element,f=c.marginTop+c.marginBottom,E=c.width+(c.marginLeft+c.marginRight),I=c.height+f,T=typeof l<"u"&&l>=0?1:0,v=s.find(function(P){return P.markedForRemoval&&P.opacity<.45})?-1:0,_=s.length+T+v,S=kt(u,E);return 1===S?s.forEach(function(P){var h=P.rect.element.height+f;r+=h,t+=h*P.opacity}):(r=Math.ceil(_/S)*I,t=r),{visual:t,bounds:r}},Us=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},nr=function(e,t){var r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),a=e.query("GET_MAX_FILES"),s=t.length;return!n&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:$("warning",0,"Max files")}),!0):!(!n&&r||!(Ce(a=n?a:1)&&o+s>a)||(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:$("warning",0,"Max files")}),0))},Vs=function(e,t,r){var n=e.childViews[0];return Xt(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Nn=function(e){var t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){var o=Os(e.element,function(a){var s=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||a.every(function(l){return Oe("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(function(c){return!0===c})&&s(l)})},{filterItems:function(s){var u=e.query("GET_IGNORED_FILES");return s.filter(function(l){return!Be(l)||!u.includes(l.name.toLowerCase())})},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=function(a,s){var l=e.ref.list.childViews[0].childViews.filter(function(f){return f.rect.element.height}),c=e.query("GET_ACTIVE_ITEMS").map(function(f){return l.find(function(d){return d.id===f.id})}).filter(function(f){return f});ce("ADD_ITEMS",a,{dispatch:e.dispatch}).then(function(f){if(nr(e,f))return!1;e.dispatch("ADD_ITEMS",{items:f,index:Vs(e.ref.list,c,s),interactionMethod:se_DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},o.ondragstart=function(a){e.dispatch("DID_START_DRAG",{position:a})},o.ondrag=Cn(function(a){e.dispatch("DID_DRAG",{position:a})}),o.ondragend=function(a){e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(Wa))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Fn=function(e,t){var r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),o=r&&!n;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Fa,Object.assign({},t,{onload:function(s){ce("ADD_ITEMS",s,{dispatch:e.dispatch}).then(function(u){if(nr(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:-1,interactionMethod:se_BROWSE})})}})),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Gn=function(e){var t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=Ds(),e.ref.paster.onload=function(o){ce("ADD_ITEMS",o,{dispatch:e.dispatch}).then(function(a){if(nr(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:se_PASTE})})}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},xs=te({DID_SET_ALLOW_BROWSE:function(e){Fn(e.root,e.props)},DID_SET_ALLOW_DROP:function(e){Nn(e.root)},DID_SET_ALLOW_PASTE:function(e){Gn(e.root)},DID_SET_DISABLED:function(e){var t=e.root,r=e.props;Nn(t),Gn(t),Fn(t,r),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),qs=K({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:function(e){var t=e.root,r=e.props,n=t.query("GET_ID");n&&(t.element.id=n);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter(function(f){return f.length}).forEach(function(f){t.element.classList.add(f)}),t.ref.label=t.appendChildView(t.createChildView(Ba,Object.assign({},r,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(La,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(un,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Ms,Object.assign({},r))),t.ref.data=t.appendChildView(t.createChildView(es,Object.assign({},r))),t.ref.measure=ge("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(function(f){return!Ee(f.value)}).map(function(f){t.element.dataset[f.name]=f.value}),t.ref.widthPrevious=null,t.ref.widthUpdated=Cn(function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var a=window.matchMedia("(pointer: fine) and (hover: hover)").matches,s="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&s&&!a&&(t.element.addEventListener("touchmove",_t,{passive:!1}),t.element.addEventListener("gesturestart",_t));var u=t.query("GET_CREDITS");if(2===u.length){var c=document.createElement("a");c.className="filepond--credits",c.setAttribute("aria-hidden","true"),c.href=u[0],c.tabindex=-1,c.target="_blank",c.rel="noopener noreferrer",c.textContent=u[1],t.element.appendChild(c),t.ref.credits=c}},write:function(e){var t=e.root,n=e.actions;if(xs({root:t,props:e.props,actions:n}),n.filter(function(U){return/^DID_SET_STYLE_/.test(U.type)}).filter(function(U){return!Ee(U.data.value)}).map(function(U){var xe=U.data,Ke=Mn(U.type.substring(8).toLowerCase(),"_");t.element.dataset[Ke]=xe.value,t.invalidateLayout()}),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var o=t.ref.bounds;o||(o=t.ref.bounds=Us(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var a=t.ref,s=a.hopper,u=a.label,l=a.list,c=a.panel;s&&s.updateHopperState();var f=t.query("GET_PANEL_ASPECT_RATIO"),d=t.query("GET_ALLOW_MULTIPLE"),E=t.query("GET_TOTAL_ITEMS"),T=E===(d?t.query("GET_MAX_FILES")||1e6:1),v=n.find(function(U){return"DID_ADD_ITEM"===U.type});if(T&&v){var _=v.data.interactionMethod;u.opacity=0,d?u.translateY=-40:_===se_API?u.translateX=40:u.translateY=_===se_BROWSE?40:30}else T||(u.opacity=1,u.translateX=0,u.translateY=0);var S=Gs(t),P=Bs(t),h=u.rect.element.height,F=!d||T?0:h,R=T?l.rect.element.marginTop:0,H=0===E?0:l.rect.element.marginBottom,z=F+R+P.visual+H,y=F+R+P.bounds+H;if(l.translateY=Math.max(0,F-l.rect.element.marginTop)-S.top,f){var A=t.rect.element.width,w=A*f;f!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=f,t.ref.updateHistory=[]);var O=t.ref.updateHistory;O.push(A);if(O.length>4)for(var L=O.length,W=L-10,Y=0,M=L;M>=W;M--)if(O[M]===O[M-2]&&Y++,Y>=2)return;c.scalable=!1,c.height=w;var m=w-F-(H-S.bottom)-(T?R:0);l.overflow=P.visual>m?m:null,t.height=w}else if(o.fixedHeight){c.scalable=!1;var p=o.fixedHeight-F-(H-S.bottom)-(T?R:0);l.overflow=P.visual>p?p:null}else if(o.cappedHeight){var b=z>=o.cappedHeight,C=Math.min(o.cappedHeight,z);c.scalable=!0,c.height=b?C:C-S.top-S.bottom;var G=C-F-(H-S.bottom)-(T?R:0);l.overflow=z>o.cappedHeight&&P.visual>G?G:null,t.height=Math.min(o.cappedHeight,y-S.top-S.bottom)}else{var V=E>0?S.top+S.bottom:0;c.scalable=!0,c.height=Math.max(h,z-V),t.height=Math.max(h,y-V)}t.ref.credits&&c.heightCurrent&&(t.ref.credits.style.transform="translateY("+c.heightCurrent+"px)")}},destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",_t),t.element.removeEventListener("gesturestart",_t)},mixins:{styles:["height"]}}),Ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,r=lt(),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Object.assign({},e),o=[],a=[],c=function(v,_,S){!S||document.hidden?(I[v]&&I[v](_),o.push({type:v,data:_})):a.push({type:v,data:_})},f=function(v){for(var _,S=arguments.length,P=new Array(S>1?S-1:0),h=1;h<S;h++)P[h-1]=arguments[h];return E[v]?(_=E)[v].apply(_,P):null},d={getState:function(){return Object.assign({},n)},processActionQueue:function(){var v=[].concat(o);return o.length=0,v},processDispatchQueue:function(){var v=[].concat(a);a.length=0,v.forEach(function(_){c(_.type,_.data)})},dispatch:c,query:f},E={};t.forEach(function(T){E=Object.assign({},T(n),{},E)});var I={};return r.forEach(function(T){I=Object.assign({},T(c,f,n),{},I)}),d}(function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:yi(e)}}(r),[ao,Pi(r)],[Co,bi(r)]);n.dispatch("SET_OPTIONS",{options:e});var o=function(){document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",o);var a=null,s=!1,u=!1,l=null,c=null,f=function(){s||(s=!0),clearTimeout(a),a=setTimeout(function(){s=!1,l=null,c=null,u&&(u=!1,n.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",f);var d=qs(n,{id:Dt()}),E=!1,I=!1,T={_read:function(){s&&(c=window.innerWidth,l||(l=c),!u&&c!==l&&(n.dispatch("DID_START_RESIZE"),u=!0)),I&&E&&(E=null===d.element.offsetParent),!E&&(d._read(),I=d.rect.element.hidden)},_write:function(m){var p=n.processActionQueue().filter(function(b){return!/^SET_/.test(b.type)});E&&!p.length||(P(p),E=d._write(m,p,u),function(e){e.forEach(function(t,r){t.released&&Nt(e,r)})}(n.query("GET_ITEMS")),E&&n.processDispatchQueue())}},v=function(m){return function(p){var b={type:m};if(!p)return b;if(p.hasOwnProperty("error")&&(b.error=p.error?Object.assign({},p.error):null),p.status&&(b.status=Object.assign({},p.status)),p.file&&(b.output=p.file),p.source)b.file=p.source;else if(p.item||p.id){var C=p.item?p.item:n.query("GET_ITEM",p.id);b.file=C?ne(C):null}return p.items&&(b.items=p.items.map(ne)),/progress/.test(m)&&(b.progress=p.progress),p.hasOwnProperty("origin")&&p.hasOwnProperty("target")&&(b.origin=p.origin,b.target=p.target),b}},_={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},S=function(m){var p=Object.assign({pond:Y},m);delete p.type,d.element.dispatchEvent(new CustomEvent("FilePond:"+m.type,{detail:p,bubbles:!0,cancelable:!0,composed:!0}));var b=[];m.hasOwnProperty("error")&&b.push(m.error),m.hasOwnProperty("file")&&b.push(m.file);var C=["type","error","file"];Object.keys(m).filter(function(V){return!C.includes(V)}).forEach(function(V){return b.push(m[V])}),Y.fire.apply(Y,[m.type].concat(b));var G=n.query("GET_ON"+m.type.toUpperCase());G&&G.apply(void 0,b)},P=function(m){m.length&&m.filter(function(p){return _[p.type]}).forEach(function(p){var b=_[p.type];(Array.isArray(b)?b:[b]).forEach(function(C){"DID_INIT_ITEM"===p.type?S(C(p.data)):setTimeout(function(){S(C(p.data))},0)})})},R=function(m){return new Promise(function(p,b){n.dispatch("REQUEST_ITEM_PREPARE",{query:m,success:function(G){p(G)},failure:function(G){b(G)}})})},y=function(m,p){return"object"==typeof m&&!function(m){return m.file&&m.id}(m)&&!p&&(p=m,m=void 0),n.dispatch("REMOVE_ITEM",Object.assign({},p,{query:m})),null===n.query("GET_ACTIVE_ITEM",m)},A=function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];return new Promise(function(C,G){var V=[],U={};if(et(p[0]))V.push.apply(V,p[0]),Object.assign(U,p[1]||{});else{var q=p[p.length-1];"object"==typeof q&&!(q instanceof Blob)&&Object.assign(U,p.pop()),V.push.apply(V,p)}n.dispatch("ADD_ITEMS",{items:V,index:U.index,interactionMethod:se_API,success:C,failure:G})})},w=function(){return n.query("GET_ACTIVE_ITEMS")},O=function(m){return new Promise(function(p,b){n.dispatch("REQUEST_ITEM_PROCESSING",{query:m,success:function(G){p(G)},failure:function(G){b(G)}})})},Y=Object.assign({},ut(),{},T,{},function(e,t){var r={};return k(t,function(n){r[n]={get:function(){return e.getState().options[n]},set:function(a){e.dispatch("SET_"+nt(n,"_").toUpperCase(),{value:a})}}}),r}(n,r),{setOptions:function(m){return n.dispatch("SET_OPTIONS",{options:m})},addFile:function(m){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(b,C){A([{source:m,options:p}],{index:p.index}).then(function(G){return b(G&&G[0])}).catch(C)})},addFiles:A,getFile:function(m){return n.query("GET_ACTIVE_ITEM",m)},processFile:O,prepareFile:R,removeFile:y,moveFile:function(m,p){return n.dispatch("MOVE_ITEM",{query:m,index:p})},getFiles:w,processFiles:function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];var C=Array.isArray(p[0])?p[0]:p;if(!C.length){var G=w().filter(function(V){return!(V.status===N.IDLE&&V.origin===Z.LOCAL)&&V.status!==N.PROCESSING&&V.status!==N.PROCESSING_COMPLETE&&V.status!==N.PROCESSING_REVERT_ERROR});return Promise.all(G.map(O))}return Promise.all(C.map(O))},removeFiles:function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];var G,C=Array.isArray(p[0])?p[0]:p;"object"==typeof C[C.length-1]?G=C.pop():Array.isArray(p[0])&&(G=p[1]);var V=w();return C.length?C.map(function(q){return he(q)?V[q]?V[q].id:null:q}).filter(function(q){return q}).map(function(q){return y(q,G)}):Promise.all(V.map(function(q){return y(q,G)}))},prepareFiles:function(){for(var m=arguments.length,p=new Array(m),b=0;b<m;b++)p[b]=arguments[b];var C=Array.isArray(p[0])?p[0]:p,G=C.length?C:w();return Promise.all(G.map(R))},sort:function(m){return n.dispatch("SORT",{compare:m})},browse:function(){var m=d.element.querySelector("input[type=file]");m&&m.click()},destroy:function(){Y.fire("destroy",d.element),n.dispatch("ABORT_ALL"),d._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",o),n.dispatch("DID_DESTROY")},insertBefore:function(m){return dr(d.element,m)},insertAfter:function(m){return pr(d.element,m)},appendTo:function(m){return m.appendChild(d.element)},replaceElement:function(m){dr(d.element,m),m.parentNode.removeChild(m),t=m},restoreElement:function(){t&&(pr(t,d.element),d.element.parentNode.removeChild(d.element),t=null)},isAttachedTo:function(m){return d.element===m||t===m},element:{get:function(){return d.element}},status:{get:function(){return n.query("GET_STATUS")}}});return n.dispatch("DID_INIT"),pe(Y)},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return k(lt(),function(n,o){t[n]=o[0]}),Ys(Object.assign({},t,{},e))},Ws=function i(e,t){k(t,function(r,n){k(e,function(o,a){var s=new RegExp(r);if(s.test(o)&&(delete e[o],!1!==n)){if(re(n))return void(e[n]=a);var l=n.group;J(n)&&!e[l]&&(e[l]={}),e[l][function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(o.replace(s,""))]=a}}),n.mapping&&i(e[n.group],n.mapping)})},js=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];k(e.attributes,function(o){r.push(e.attributes[o])});var n=r.filter(function(o){return o.name}).reduce(function(o,a){var s=X(e,a.name);return o[function(e){return Mn(e.replace(/^data-/,""))}(a.name)]=s===a.name||s,o},{});return Ws(n,t),n},ks=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Oe("SET_ATTRIBUTE_TO_OPTION_MAP",r);var n=Object.assign({},t),o=js("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,r);Object.keys(o).forEach(function(s){J(o[s])?(J(n[s])||(n[s]={}),Object.assign(n[s],o[s])):n[s]=o[s]}),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(function(s){return{source:s.value,options:{type:s.dataset.type}}}));var a=Bn(n);return e.files&&Array.from(e.files).forEach(function(s){a.addFile(s)}),a.replaceElement(e),a},Xs=function(){return function(e){return e instanceof HTMLElement}(arguments.length<=0?void 0:arguments[0])?ks.apply(void 0,arguments):Bn.apply(void 0,arguments)},$s=["fire","_read","_write"],Un=function(e){var t={};return Cr(e,t,$s),t},Qs=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,function(r,n){return t[n]})},Ks=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:function(a,s){},post:function(a,s,u){var l=Dt();n.onmessage=function(c){c.data.id===l&&s(c.data.message)},n.postMessage({id:l,message:a},u)},terminate:function(){n.terminate(),URL.revokeObjectURL(r)}}},Zs=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=function(o){r(o)},n.src=e})},Vn=function(e,t){var r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},Js=function(e){return Vn(e,e.name)},xn=[],eu=function(e){xn.includes(e)||(xn.push(e),function(e){Object.assign(Ne,e)}(e({addFilter:Qi,utils:{Type:g,forin:k,isString:re,isFile:Be,toNaturalFileSize:Jr,replaceInString:Qs,getExtensionFromFilename:ft,getFilenameWithoutExtension:Wr,guesstimateMimeType:On,getFileFromBlob:Ge,getFilenameFromURL:je,createRoute:te,createWorker:Ks,createView:K,createItemAPI:ne,loadImage:Zs,copyFile:Js,renameFile:Vn,createBlob:xr,applyFilterChain:ce,text:Q,getNumericAspectRatioFromString:Gr},views:{fileActionButton:Zr}}).options))},ir=(i=Je()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return i}),Te={apps:[]},Pe=function(){};if(B.Status={},B.FileStatus={},B.FileOrigin={},B.OptionTypes={},B.create=Pe,B.destroy=Pe,B.parse=Pe,B.find=Pe,B.registerPlugin=Pe,B.getOptions=Pe,B.setOptions=Pe,ir()){!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n="__framePainter";if(window[n])return window[n].readers.push(e),void window[n].writers.push(t);window[n]={readers:[e],writers:[t]};var o=window[n],a=1e3/r,s=null,u=null,l=null,c=null,f=function(){document.hidden?(l=function(){return window.setTimeout(function(){return d(performance.now())},a)},c=function(){return window.clearTimeout(u)}):(l=function(){return window.requestAnimationFrame(d)},c=function(){return window.cancelAnimationFrame(u)})};document.addEventListener("visibilitychange",function(){c&&c(),f(),d(performance.now())});var d=function E(I){u=l(E),s||(s=I);var T=I-s;T<=a||(s=I-T%a,o.readers.forEach(function(v){return v()}),o.writers.forEach(function(v){return v(I)}))};f(),d(performance.now())}(function(){Te.apps.forEach(function(i){return i._read()})},function(i){Te.apps.forEach(function(e){return e._write(i)})});var qn=function i(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:ir,create:B.create,destroy:B.destroy,parse:B.parse,find:B.find,registerPlugin:B.registerPlugin,setOptions:B.setOptions}})),document.removeEventListener("DOMContentLoaded",i)};"loading"!==document.readyState?setTimeout(function(){return qn()},0):document.addEventListener("DOMContentLoaded",qn);var Yn=function(){return k(lt(),function(e,t){B.OptionTypes[e]=t[1]})};B.Status=Object.assign({},Fe),B.FileOrigin=Object.assign({},Z),B.FileStatus=Object.assign({},N),B.OptionTypes={},Yn(),B.create=function(){var e=Xs.apply(void 0,arguments);return e.on("destroy",B.destroy),Te.apps.push(e),Un(e)},B.destroy=function(e){var t=Te.apps.findIndex(function(n){return n.isAttachedTo(e)});return t>=0&&(Te.apps.splice(t,1)[0].restoreElement(),!0)},B.parse=function(e){return Array.from(e.querySelectorAll(".filepond")).filter(function(n){return!Te.apps.find(function(o){return o.isAttachedTo(n)})}).map(function(n){return B.create(n)})},B.find=function(e){var t=Te.apps.find(function(r){return r.isAttachedTo(e)});return t?Un(t):null},B.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(eu),Yn()},B.getOptions=function(){var e={};return k(lt(),function(t,r){e[t]=r[0]}),e},B.setOptions=function(e){return J(e)&&(Te.apps.forEach(function(t){t.setOptions(e)}),function(e){k(e,function(t,r){Ne[t]&&(Ne[t][0]=_r(r,Ne[t][0],Ne[t][1]))})}(e)),B.getOptions()}}B.supported=ir,Object.defineProperty(B,"__esModule",{value:!0})}(ht)},2537:(kn,ht,B)=>{"use strict";B.d(ht,{er:()=>Ze});var we=B(4946),Rt=B(2901),Ot=B(6814);(0,Rt.supported)();let Ze=(()=>{class ae{}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275mod=we.oAB({type:ae}),ae.\u0275inj=we.cJS({imports:[Ot.ez]}),ae})()}}]);